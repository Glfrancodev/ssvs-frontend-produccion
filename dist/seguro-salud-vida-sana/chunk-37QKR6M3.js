import{a as $}from"./chunk-2AXTMM6U.js";import{a as Z}from"./chunk-QZX63QLI.js";import{a as z,b as R}from"./chunk-BNUNU2GP.js";import{a as X,b as Y}from"./chunk-O3KWYK2S.js";import{B as U,d as f,f as B,k as L,l as N,m as V,n as j,p as G,q as K,s as q,t as J,u as Q}from"./chunk-RDO4C5ZH.js";import"./chunk-4YRY4IP2.js";import{b as F,d as W,e as k,f as A,j as D}from"./chunk-24563CTF.js";import"./chunk-EALBQTKK.js";import{q as T}from"./chunk-5DWL5JJZ.js";import{$a as _,Ab as r,Bb as p,Cb as C,Eb as m,Fb as s,Gb as u,Hb as y,Ib as P,Jb as I,Na as l,Oa as g,_ as E,bc as O,cb as M,ha as H,hb as e,ia as x,ib as t,jb as S,nb as v,qb as b,rb as h}from"./chunk-3RWLLOHT.js";var ee=()=>({"min-width":"50rem","max-width":"100%"});function te(d,o){if(d&1&&r(0),d&2){let n=o.$implicit,i=h();C(" ",i.getMedicoEspecialidadLabel(n)," ")}}function ie(d,o){if(d&1&&r(0),d&2){let n=o.$implicit,i=h();C(" ",i.getMedicoEspecialidadLabel(n)," ")}}function oe(d,o){d&1&&(e(0,"tr")(1,"th",19),r(2,"ID"),t(),e(3,"th",20),r(4,"Fecha"),t(),e(5,"th",20),r(6,"Hora Inicio"),t(),e(7,"th",20),r(8,"Hora Final"),t(),e(9,"th",19),r(10,"Cupos Totales"),t(),e(11,"th",21),r(12,"Descripci\xF3n"),t(),e(13,"th",20),r(14,"Acciones"),t()())}function ne(d,o){if(d&1){let n=v();e(0,"tr")(1,"td"),r(2),t(),e(3,"td"),r(4),t(),e(5,"td"),r(6),t(),e(7,"td"),r(8),t(),e(9,"td"),r(10),t(),e(11,"td"),r(12),t(),e(13,"td")(14,"button",22),b("click",function(){let c=H(n).$implicit,a=h();return x(a.deleteHorario(c.id))}),t()()()}if(d&2){let n=o.$implicit,i=h();l(2),p(n.id),l(2),p(n.fecha),l(2),p(n.horaInicio),l(2),p(n.horaFinal),l(2),p(n.cantidadCupos),l(2),p(i.getMedicoEspecialidadLabel(n.medicoEspecialidad))}}var w=class d{constructor(o,n,i,c){this.horarioService=o;this.medicoEspecialidadService=n;this.messageService=i;this.cdr=c}horarios=[];medicoEspecialidades=[];editedHorarios={};newHorario={fecha:"",horaInicio:"",horaFinal:"",cantidadCupos:0,medicoEspecialidad:{id:0}};ngOnInit(){this.getAllHorarios(),this.getAllMedicoEspecialidades()}getAllHorarios(){this.horarioService.getHorarios().subscribe(o=>{this.horarios=o,this.sortHorarios()})}getAllMedicoEspecialidades(){this.medicoEspecialidadService.getMedicoEspecialidades().subscribe(o=>{this.medicoEspecialidades=o})}sortHorarios(){this.horarios.sort((o,n)=>(o.id||0)-(n.id||0))}addHorario(){this.horarioService.createHorario(this.newHorario).subscribe(o=>{this.getAllHorarios(),this.messageService.add({severity:"success",summary:"Horario Agregado",detail:"Nuevo horario creado correctamente"}),this.newHorario={fecha:"",horaInicio:"",horaFinal:"",cantidadCupos:0,medicoEspecialidad:{id:0}}})}getMedicoEspecialidadLabel(o){return`Especialidad: ${o.especialidad.nombre} - M\xE9dico: ${o.medico.usuario.nombre} ${o.medico.usuario.apellido}`}deleteHorario(o){this.horarioService.deleteHorario(o).subscribe(()=>{this.horarios=this.horarios.filter(n=>n.id!==o),this.messageService.add({severity:"success",summary:"Horario Eliminado",detail:"El horario ha sido eliminado correctamente"})})}static \u0275fac=function(n){return new(n||d)(g($),g(Z),g(f),g(O))};static \u0275cmp=E({type:d,selectors:[["app-horario"]],standalone:!0,features:[y([f]),P],decls:31,vars:9,consts:[[1,"add-horario-form"],[1,"form-field"],["for","fecha"],["id","fecha","dateFormat","yy-mm-dd",1,"input-calendar",3,"ngModelChange","ngModel"],["for","horaInicio"],["id","horaInicio","type","time","pInputText","","placeholder","Ingrese la hora de inicio",3,"ngModelChange","ngModel"],["for","horaFinal"],["id","horaFinal","type","time","pInputText","","placeholder","Ingrese la hora final",3,"ngModelChange","ngModel"],["for","cantidadCupos"],["id","cantidadCupos","type","number","pInputText","","placeholder","Ingrese la cantidad de cupos",3,"ngModelChange","ngModel"],["for","medicoEspecialidad"],["id","medicoEspecialidad","optionValue","id","placeholder","Seleccione M\xE9dico Especialidad",1,"input-dropdown",3,"ngModelChange","options","ngModel"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"form-field","center-content"],["label","A\xF1adir Horario","icon","pi pi-plus","styleClass","p-button-raised p-button-success button-custom",3,"click"],["dataKey","id","editMode","row",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"],[2,"width","15%"],[2,"width","20%"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","button-danger",3,"click"]],template:function(n,i){n&1&&(S(0,"p-toast"),e(1,"div",0)(2,"h3"),r(3,"A\xF1adir Nuevo Horario"),t(),e(4,"div",1)(5,"label",2),r(6,"Fecha"),t(),e(7,"p-calendar",3),u("ngModelChange",function(a){return s(i.newHorario.fecha,a)||(i.newHorario.fecha=a),a}),t()(),e(8,"div",1)(9,"label",4),r(10,"Hora de Inicio"),t(),e(11,"input",5),u("ngModelChange",function(a){return s(i.newHorario.horaInicio,a)||(i.newHorario.horaInicio=a),a}),t()(),e(12,"div",1)(13,"label",6),r(14,"Hora Final"),t(),e(15,"input",7),u("ngModelChange",function(a){return s(i.newHorario.horaFinal,a)||(i.newHorario.horaFinal=a),a}),t()(),e(16,"div",1)(17,"label",8),r(18,"Cantidad de Cupos"),t(),e(19,"input",9),u("ngModelChange",function(a){return s(i.newHorario.cantidadCupos,a)||(i.newHorario.cantidadCupos=a),a}),t()(),e(20,"div",1)(21,"label",10),r(22,"M\xE9dico Especialidad"),t(),e(23,"p-dropdown",11),u("ngModelChange",function(a){return s(i.newHorario.medicoEspecialidad.id,a)||(i.newHorario.medicoEspecialidad.id=a),a}),_(24,te,1,1,"ng-template",12)(25,ie,1,1,"ng-template",13),t()(),e(26,"div",14)(27,"p-button",15),b("click",function(){return i.addHorario()}),t()()(),e(28,"p-table",16),_(29,oe,15,0,"ng-template",17)(30,ne,15,6,"ng-template",18),t()),n&2&&(l(7),m("ngModel",i.newHorario.fecha),l(4),m("ngModel",i.newHorario.horaInicio),l(4),m("ngModel",i.newHorario.horaFinal),l(4),m("ngModel",i.newHorario.cantidadCupos),l(4),M("options",i.medicoEspecialidades),m("ngModel",i.newHorario.medicoEspecialidad.id),l(5),M("value",i.horarios)("tableStyle",I(8,ee)))},dependencies:[Y,X,B,U,Q,T,D,F,A,W,k,j,N,V,L,R,z,J,q,K,G],styles:[".form-container[_ngcontent-%COMP%]{padding:1.5rem;border:1px solid #ddd;border-radius:12px;background-color:#f9f9f9;box-shadow:0 4px 8px #0000001a;margin-bottom:1.5rem;display:grid;grid-template-columns:1fr 1fr;gap:1rem;max-width:100%;margin:auto}.add-horario-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{grid-column:1 / -1;font-size:1.8rem;font-weight:700;color:#3f51b5;text-align:center;margin:0;margin-bottom:1rem;border-bottom:2px solid #ddd;padding-bottom:.5rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.25rem}.input-calendar[_ngcontent-%COMP%], .input-dropdown[_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:.5rem;border-radius:6px;border:1px solid #ddd;background-color:#fff;font-size:.95rem;box-shadow:inset 0 1px 3px #0000001a}.input-calendar[_ngcontent-%COMP%]:focus, .input-dropdown[_ngcontent-%COMP%]:focus, input[type=time][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:#3f51b5;box-shadow:0 0 4px #3f51b54d}.button-custom[_ngcontent-%COMP%]{width:100%;max-width:150px;font-size:1rem;border-radius:8px;padding:.75rem;margin:auto}.p-table[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;font-size:.95rem}.p-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;font-weight:700;text-align:center;padding:12px}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0f7fa}.p-button-danger[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:50%;color:#d32f2f!important}.p-button-danger[_ngcontent-%COMP%]:hover{background-color:#d32f2f!important;color:#fff!important}"]})};export{w as default};
