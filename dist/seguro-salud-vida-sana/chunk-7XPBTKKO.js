import{a as Ot,b as jt,c as lt}from"./chunk-HWUH7ABB.js";import"./chunk-JCJIXIGU.js";import{a as Rt}from"./chunk-UJ32YO6L.js";import{a as Mt}from"./chunk-MZW6JDJM.js";import{a as At}from"./chunk-64ACLIH3.js";import{a as Dt,b as Wt}from"./chunk-37FNDG3E.js";import{B as kt,f as _t,k as Ht,l as xt,n as Tt,u as Ft}from"./chunk-LJKAMAZ5.js";import{j as Pt}from"./chunk-W5NNSEVP.js";import"./chunk-4YRY4IP2.js";import{a as wt}from"./chunk-S2R25WKX.js";import{h as bt,j as St,o as Ct}from"./chunk-V6WZIOIM.js";import{l as vt,m as mt,r as yt}from"./chunk-2HP4KZBQ.js";import{$a as q,Fb as ct,Gb as pt,Ka as K,La as G,N as ht,X as gt,Ya as nt,ea as et,eb as L,fa as it,fb as N,kb as rt,nb as X,ob as tt,xb as Y,yb as J}from"./chunk-TOSOZOFE.js";import{e as Bt,g as It,h as dt}from"./chunk-ODN5LVDJ.js";var Et=Bt((Q,st)=>{"use strict";(function(E,F){if(typeof Q=="object"&&typeof st=="object")st.exports=F(function(){try{return lt(),dt(jt)}catch{}}());else if(typeof define=="function"&&define.amd)define(["jspdf"],F);else{var z=F(typeof Q=="object"?function(){try{return lt(),dt(jt)}catch{}}():E.jspdf);for(var B in z)(typeof Q=="object"?Q:E)[B]=z[B]}})(typeof globalThis<"u"?globalThis:typeof Q<"u"?Q:typeof window<"u"?window:typeof self<"u"?self:global,function(I){return function(){"use strict";var E={172:function(D,h){var H=this&&this.__extends||function(){var m=function(w,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,y){S.__proto__=y}||function(S,y){for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(S[d]=y[d])},m(w,a)};return function(w,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(w,a);function S(){this.constructor=w}w.prototype=a===null?Object.create(a):(S.prototype=a.prototype,new S)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.CellHookData=h.HookData=void 0;var M=function(){function m(w,a,S){this.table=a,this.pageNumber=a.pageNumber,this.pageCount=this.pageNumber,this.settings=a.settings,this.cursor=S,this.doc=w.getDocument()}return m}();h.HookData=M;var b=function(m){H(w,m);function w(a,S,y,d,n,t){var e=m.call(this,a,S,t)||this;return e.cell=y,e.row=d,e.column=n,e.section=d.section,e}return w}(M);h.CellHookData=b},340:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0});var M=H(4),b=H(136),m=H(744),w=H(776),a=H(664),S=H(972);function y(d){d.API.autoTable=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e;n.length===1?e=n[0]:(console.error("Use of deprecated autoTable initiation"),e=n[2]||{},e.columns=n[0],e.body=n[1]);var l=(0,w.parseInput)(this,e),s=(0,S.createTable)(this,l);return(0,a.drawTable)(this,s),this},d.API.lastAutoTable=!1,d.API.previousAutoTable=!1,d.API.autoTable.previous=!1,d.API.autoTableText=function(n,t,e,l){(0,b.default)(n,t,e,l,this)},d.API.autoTableSetDefaults=function(n){return m.DocHandler.setDefaults(n,this),this},d.autoTableSetDefaults=function(n,t){m.DocHandler.setDefaults(n,t)},d.API.autoTableHtmlToJson=function(n,t){var e;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var l=new m.DocHandler(this),s=(0,M.parseHtml)(l,n,window,t,!1),i=s.head,f=s.body,p=((e=i[0])===null||e===void 0?void 0:e.map(function(v){return v.content}))||[];return{columns:p,rows:f,data:f}},d.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var n=this.lastAutoTable;return n&&n.finalY?n.finalY:0},d.API.autoTableAddPageContent=function(n){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),d.API.autoTable.globalDefaults||(d.API.autoTable.globalDefaults={}),d.API.autoTable.globalDefaults.addPageContent=n,this},d.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}h.default=y},136:function(D,h){Object.defineProperty(h,"__esModule",{value:!0});function H(M,b,m,w,a){w=w||{};var S=1.15,y=a.internal.scaleFactor,d=a.internal.getFontSize()/y,n=a.getLineHeightFactor?a.getLineHeightFactor():S,t=d*n,e=/\r\n|\r|\n/g,l="",s=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(l=typeof M=="string"?M.split(e):M,s=l.length||1),m+=d*(2-S),w.valign==="middle"?m-=s/2*t:w.valign==="bottom"&&(m-=s*t),w.halign==="center"||w.halign==="right"){var i=d;if(w.halign==="center"&&(i*=.5),l&&s>=1){for(var f=0;f<l.length;f++)a.text(l[f],b-a.getStringUnitWidth(l[f])*i,m),m+=t;return a}b-=a.getStringUnitWidth(M)*i}return w.halign==="justify"?a.text(M,b,m,{maxWidth:w.maxWidth||100,align:"justify"}):a.text(M,b,m),a}h.default=H},420:function(D,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getPageAvailableWidth=h.parseSpacing=h.getFillStyle=h.addTableBorder=h.getStringWidth=void 0;function H(a,S,y){y.applyStyles(S,!0);var d=Array.isArray(a)?a:[a],n=d.map(function(t){return y.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0);return n}h.getStringWidth=H;function M(a,S,y,d){var n=S.settings.tableLineWidth,t=S.settings.tableLineColor;a.applyStyles({lineWidth:n,lineColor:t});var e=b(n,!1);e&&a.rect(y.x,y.y,S.getWidth(a.pageSize().width),d.y-y.y,e)}h.addTableBorder=M;function b(a,S){var y=a>0,d=S||S===0;return y&&d?"DF":y?"S":d?"F":null}h.getFillStyle=b;function m(a,S){var y,d,n,t;if(a=a||S,Array.isArray(a)){if(a.length>=4)return{top:a[0],right:a[1],bottom:a[2],left:a[3]};if(a.length===3)return{top:a[0],right:a[1],bottom:a[2],left:a[1]};if(a.length===2)return{top:a[0],right:a[1],bottom:a[0],left:a[1]};a.length===1?a=a[0]:a=S}return typeof a=="object"?(typeof a.vertical=="number"&&(a.top=a.vertical,a.bottom=a.vertical),typeof a.horizontal=="number"&&(a.right=a.horizontal,a.left=a.horizontal),{left:(y=a.left)!==null&&y!==void 0?y:S,top:(d=a.top)!==null&&d!==void 0?d:S,right:(n=a.right)!==null&&n!==void 0?n:S,bottom:(t=a.bottom)!==null&&t!==void 0?t:S}):(typeof a!="number"&&(a=S),{top:a,right:a,bottom:a,left:a})}h.parseSpacing=m;function w(a,S){var y=m(S.settings.margin,0);return a.pageSize().width-(y.left+y.right)}h.getPageAvailableWidth=w},796:function(D,h){var H=this&&this.__extends||function(){var w=function(a,S){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(y[n]=d[n])},w(a,S)};return function(a,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");w(a,S);function y(){this.constructor=a}a.prototype=S===null?Object.create(S):(y.prototype=S.prototype,new y)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.getTheme=h.defaultStyles=h.HtmlRowInput=void 0;var M=function(w){H(a,w);function a(S){var y=w.call(this)||this;return y._element=S,y}return a}(Array);h.HtmlRowInput=M;function b(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}h.defaultStyles=b;function m(w){var a={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return a[w]}h.getTheme=m},903:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCss=void 0;var M=H(420);function b(y,d,n,t,e){var l={},s=1.3333333333333333,i=w(d,function(g){return e.getComputedStyle(g).backgroundColor});i!=null&&(l.fillColor=i);var f=w(d,function(g){return e.getComputedStyle(g).color});f!=null&&(l.textColor=f);var p=S(t,n);p&&(l.cellPadding=p);var v="borderTopColor",c=s*n,o=t.borderTopWidth;if(t.borderBottomWidth===o&&t.borderRightWidth===o&&t.borderLeftWidth===o){var P=(parseFloat(o)||0)/c;P&&(l.lineWidth=P)}else l.lineWidth={top:(parseFloat(t.borderTopWidth)||0)/c,right:(parseFloat(t.borderRightWidth)||0)/c,bottom:(parseFloat(t.borderBottomWidth)||0)/c,left:(parseFloat(t.borderLeftWidth)||0)/c},l.lineWidth.top||(l.lineWidth.right?v="borderRightColor":l.lineWidth.bottom?v="borderBottomColor":l.lineWidth.left&&(v="borderLeftColor"));var W=w(d,function(g){return e.getComputedStyle(g)[v]});W!=null&&(l.lineColor=W);var j=["left","right","center","justify"];j.indexOf(t.textAlign)!==-1&&(l.halign=t.textAlign),j=["middle","bottom","top"],j.indexOf(t.verticalAlign)!==-1&&(l.valign=t.verticalAlign);var u=parseInt(t.fontSize||"");isNaN(u)||(l.fontSize=u/s);var r=m(t);r&&(l.fontStyle=r);var C=(t.fontFamily||"").toLowerCase();return y.indexOf(C)!==-1&&(l.font=C),l}h.parseCss=b;function m(y){var d="";return(y.fontWeight==="bold"||y.fontWeight==="bolder"||parseInt(y.fontWeight)>=700)&&(d="bold"),(y.fontStyle==="italic"||y.fontStyle==="oblique")&&(d+="italic"),d}function w(y,d){var n=a(y,d);if(!n)return null;var t=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!t||!Array.isArray(t))return null;var e=[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])],l=parseInt(t[4]);return l===0||isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function a(y,d){var n=d(y);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?y.parentElement==null?null:a(y.parentElement,d):n}function S(y,d){var n=[y.paddingTop,y.paddingRight,y.paddingBottom,y.paddingLeft],t=96/(72/d),e=(parseInt(y.lineHeight)-parseInt(y.fontSize))/d/2,l=n.map(function(i){return parseInt(i||"0")/t}),s=(0,M.parseSpacing)(l,0);return e>s.top&&(s.top=e),e>s.bottom&&(s.bottom=e),s}},744:function(D,h){Object.defineProperty(h,"__esModule",{value:!0}),h.DocHandler=void 0;var H={},M=function(){function b(m){this.jsPDFDocument=m,this.userStyles={textColor:m.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:m.internal.getFontSize(),fontStyle:m.internal.getFont().fontStyle,font:m.internal.getFont().fontName,lineWidth:m.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:m.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return b.setDefaults=function(m,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=m:H=m},b.unifyColor=function(m){return Array.isArray(m)?m:typeof m=="number"?[m,m,m]:typeof m=="string"?[m]:null},b.prototype.applyStyles=function(m,w){var a,S,y;w===void 0&&(w=!1),m.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(m.fontStyle);var d=this.jsPDFDocument.internal.getFont(),n=d.fontStyle,t=d.fontName;if(m.font&&(t=m.font),m.fontStyle){n=m.fontStyle;var e=this.getFontList()[t];e&&e.indexOf(n)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e[0]),n=e[0])}if(this.jsPDFDocument.setFont(t,n),m.fontSize&&this.jsPDFDocument.setFontSize(m.fontSize),!w){var l=b.unifyColor(m.fillColor);l&&(a=this.jsPDFDocument).setFillColor.apply(a,l),l=b.unifyColor(m.textColor),l&&(S=this.jsPDFDocument).setTextColor.apply(S,l),l=b.unifyColor(m.lineColor),l&&(y=this.jsPDFDocument).setDrawColor.apply(y,l),typeof m.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(m.lineWidth)}},b.prototype.splitTextToSize=function(m,w,a){return this.jsPDFDocument.splitTextToSize(m,w,a)},b.prototype.rect=function(m,w,a,S,y){return this.jsPDFDocument.rect(m,w,a,S,y)},b.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},b.prototype.getTextWidth=function(m){return this.jsPDFDocument.getTextWidth(m)},b.prototype.getDocument=function(){return this.jsPDFDocument},b.prototype.setPage=function(m){this.jsPDFDocument.setPage(m)},b.prototype.addPage=function(){return this.jsPDFDocument.addPage()},b.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},b.prototype.getGlobalOptions=function(){return H||{}},b.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},b.prototype.pageSize=function(){var m=this.jsPDFDocument.internal.pageSize;return m.width==null&&(m={width:m.getWidth(),height:m.getHeight()}),m},b.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},b.prototype.getLineHeightFactor=function(){var m=this.jsPDFDocument;return m.getLineHeightFactor?m.getLineHeightFactor():1.15},b.prototype.getLineHeight=function(m){return m/this.scaleFactor()*this.getLineHeightFactor()},b.prototype.pageNumber=function(){var m=this.jsPDFDocument.internal.getCurrentPageInfo();return m?m.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},b}();h.DocHandler=M},4:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.parseHtml=void 0;var M=H(903),b=H(796);function m(S,y,d,n,t){var e,l;n===void 0&&(n=!1),t===void 0&&(t=!1);var s;typeof y=="string"?s=d.document.querySelector(y):s=y;var i=Object.keys(S.getFontList()),f=S.scaleFactor(),p=[],v=[],c=[];if(!s)return console.error("Html table could not be found with input: ",y),{head:p,body:v,foot:c};for(var o=0;o<s.rows.length;o++){var P=s.rows[o],W=(l=(e=P?.parentElement)===null||e===void 0?void 0:e.tagName)===null||l===void 0?void 0:l.toLowerCase(),j=w(i,f,d,P,n,t);j&&(W==="thead"?p.push(j):W==="tfoot"?c.push(j):v.push(j))}return{head:p,body:v,foot:c}}h.parseHtml=m;function w(S,y,d,n,t,e){for(var l=new b.HtmlRowInput(n),s=0;s<n.cells.length;s++){var i=n.cells[s],f=d.getComputedStyle(i);if(t||f.display!=="none"){var p=void 0;e&&(p=(0,M.parseCss)(S,i,y,f,d)),l.push({rowSpan:i.rowSpan,colSpan:i.colSpan,styles:p,_element:i,content:a(i)})}}var v=d.getComputedStyle(n);if(l.length>0&&(t||v.display!=="none"))return l}function a(S){var y=S.cloneNode(!0);return y.innerHTML=y.innerHTML.replace(/\n/g,"").replace(/ +/g," "),y.innerHTML=y.innerHTML.split(/<br.*?>/).map(function(d){return d.trim()}).join(`
`),y.innerText||y.textContent||""}},776:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.parseInput=void 0;var M=H(4),b=H(356),m=H(420),w=H(744),a=H(792);function S(s,i){var f=new w.DocHandler(s),p=f.getDocumentOptions(),v=f.getGlobalOptions();(0,a.default)(f,v,p,i);var c=(0,b.assign)({},v,p,i),o;typeof window<"u"&&(o=window);var P=y(v,p,i),W=d(v,p,i),j=n(f,c),u=e(f,c,o);return{id:i.tableId,content:u,hooks:W,styles:P,settings:j}}h.parseInput=S;function y(s,i,f){for(var p={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},v=function(W){if(W==="columnStyles"){var j=s[W],u=i[W],r=f[W];p.columnStyles=(0,b.assign)({},j,u,r)}else{var C=[s,i,f],g=C.map(function(x){return x[W]||{}});p[W]=(0,b.assign)({},g[0],g[1],g[2])}},c=0,o=Object.keys(p);c<o.length;c++){var P=o[c];v(P)}return p}function d(s,i,f){for(var p=[s,i,f],v={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},c=0,o=p;c<o.length;c++){var P=o[c];P.didParseCell&&v.didParseCell.push(P.didParseCell),P.willDrawCell&&v.willDrawCell.push(P.willDrawCell),P.didDrawCell&&v.didDrawCell.push(P.didDrawCell),P.willDrawPage&&v.willDrawPage.push(P.willDrawPage),P.didDrawPage&&v.didDrawPage.push(P.didDrawPage)}return v}function n(s,i){var f,p,v,c,o,P,W,j,u,r,C,g,x=(0,m.parseSpacing)(i.margin,40/s.scaleFactor()),_=(f=t(s,i.startY))!==null&&f!==void 0?f:x.top,T;i.showFoot===!0?T="everyPage":i.showFoot===!1?T="never":T=(p=i.showFoot)!==null&&p!==void 0?p:"everyPage";var k;i.showHead===!0?k="everyPage":i.showHead===!1?k="never":k=(v=i.showHead)!==null&&v!==void 0?v:"everyPage";var O=(c=i.useCss)!==null&&c!==void 0?c:!1,R=i.theme||(O?"plain":"striped"),A=!!i.horizontalPageBreak,U=(o=i.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(P=i.includeHiddenHtml)!==null&&P!==void 0?P:!1,useCss:O,theme:R,startY:_,margin:x,pageBreak:(W=i.pageBreak)!==null&&W!==void 0?W:"auto",rowPageBreak:(j=i.rowPageBreak)!==null&&j!==void 0?j:"auto",tableWidth:(u=i.tableWidth)!==null&&u!==void 0?u:"auto",showHead:k,showFoot:T,tableLineWidth:(r=i.tableLineWidth)!==null&&r!==void 0?r:0,tableLineColor:(C=i.tableLineColor)!==null&&C!==void 0?C:200,horizontalPageBreak:A,horizontalPageBreakRepeat:U,horizontalPageBreakBehaviour:(g=i.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function t(s,i){var f=s.getLastAutoTable(),p=s.scaleFactor(),v=s.pageNumber(),c=!1;if(f&&f.startPageNumber){var o=f.startPageNumber+f.pageNumber-1;c=o===v}return typeof i=="number"?i:(i==null||i===!1)&&c&&f?.finalY!=null?f.finalY+20/p:null}function e(s,i,f){var p=i.head||[],v=i.body||[],c=i.foot||[];if(i.html){var o=i.includeHiddenHtml;if(f){var P=(0,M.parseHtml)(s,i.html,f,o,i.useCss)||{};p=P.head||p,v=P.body||p,c=P.foot||p}else console.error("Cannot parse html in non browser environment")}var W=i.columns||l(p,v,c);return{columns:W,head:p,body:v,foot:c}}function l(s,i,f){var p=s[0]||i[0]||f[0]||[],v=[];return Object.keys(p).filter(function(c){return c!=="_element"}).forEach(function(c){var o=1,P;Array.isArray(p)?P=p[parseInt(c)]:P=p[c],typeof P=="object"&&!Array.isArray(P)&&(o=P?.colSpan||1);for(var W=0;W<o;W++){var j=void 0;Array.isArray(p)?j=v.length:j=c+(W>0?"_".concat(W):"");var u={dataKey:j};v.push(u)}}),v}},792:function(D,h){Object.defineProperty(h,"__esModule",{value:!0});function H(b,m,w,a){for(var S=function(t){t&&typeof t!="object"&&console.error("The options parameter should be of type object, is: "+typeof t),typeof t.extendWidth<"u"&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof t.margins<"u"&&(typeof t.margin>"u"&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&typeof t.startY!="number"&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(c){b.applyStyles(b.userStyles),t.beforePageContent&&t.beforePageContent(c),b.applyStyles(b.userStyles),t.afterPageContent&&t.afterPageContent(c),b.applyStyles(b.userStyles),t.afterPageAdd&&c.pageNumber>1&&c.afterPageAdd(c),b.applyStyles(b.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(c){t[c]&&console.error('The "'.concat(c,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(c){var o=c[0],P=c[1];t[P]&&(console.error("Use of deprecated option ".concat(P,". Use ").concat(o," instead")),t[o]=t[P])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(c){var o=typeof c=="string"?c:c[0],P=typeof c=="string"?c:c[1];typeof t[o]<"u"&&(typeof t.styles[P]>"u"&&(t.styles[P]=t[o]),console.error("Use of deprecated option: "+o+", use the style "+P+" instead."))});for(var e=0,l=["styles","bodyStyles","headStyles","footStyles"];e<l.length;e++){var s=l[e];M(t[s]||{})}for(var i=t.columnStyles||{},f=0,p=Object.keys(i);f<p.length;f++){var v=p[f];M(i[v]||{})}},y=0,d=[m,w,a];y<d.length;y++){var n=d[y];S(n)}}h.default=H;function M(b){b.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),b.minCellHeight||(b.minCellHeight=b.rowHeight)):b.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),b.cellWidth||(b.cellWidth=b.columnWidth))}},260:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.Column=h.Cell=h.Row=h.Table=void 0;var M=H(796),b=H(172),m=H(420),w=function(){function d(n,t){this.pageNumber=1,this.pageCount=1,this.id=n.id,this.settings=n.settings,this.styles=n.styles,this.hooks=n.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return d.prototype.getHeadHeight=function(n){return this.head.reduce(function(t,e){return t+e.getMaxCellHeight(n)},0)},d.prototype.getFootHeight=function(n){return this.foot.reduce(function(t,e){return t+e.getMaxCellHeight(n)},0)},d.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},d.prototype.callCellHooks=function(n,t,e,l,s,i){for(var f=0,p=t;f<p.length;f++){var v=p[f],c=new b.CellHookData(n,this,e,l,s,i),o=v(c)===!1;if(e.text=Array.isArray(e.text)?e.text:[e.text],o)return!1}return!0},d.prototype.callEndPageHooks=function(n,t){n.applyStyles(n.userStyles);for(var e=0,l=this.hooks.didDrawPage;e<l.length;e++){var s=l[e];s(new b.HookData(n,this,t))}},d.prototype.callWillDrawPageHooks=function(n,t){for(var e=0,l=this.hooks.willDrawPage;e<l.length;e++){var s=l[e];s(new b.HookData(n,this,t))}},d.prototype.getWidth=function(n){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(l,s){return l+s.wrappedWidth},0);return t}else{var e=this.settings.margin;return n-e.left-e.right}},d}();h.Table=w;var a=function(){function d(n,t,e,l,s){s===void 0&&(s=!1),this.height=0,this.raw=n,n instanceof M.HtmlRowInput&&(this.raw=n._element,this.element=n._element),this.index=t,this.section=e,this.cells=l,this.spansMultiplePages=s}return d.prototype.getMaxCellHeight=function(n){var t=this;return n.reduce(function(e,l){var s;return Math.max(e,((s=t.cells[l.index])===null||s===void 0?void 0:s.height)||0)},0)},d.prototype.hasRowSpan=function(n){var t=this;return n.filter(function(e){var l=t.cells[e.index];return l?l.rowSpan>1:!1}).length>0},d.prototype.canEntireRowFit=function(n,t){return this.getMaxCellHeight(t)<=n},d.prototype.getMinimumRowHeight=function(n,t){var e=this;return n.reduce(function(l,s){var i=e.cells[s.index];if(!i)return 0;var f=t.getLineHeight(i.styles.fontSize),p=i.padding("vertical"),v=p+f;return v>l?v:l},0)},d}();h.Row=a;var S=function(){function d(n,t,e){var l,s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=e,this.raw=n;var i=n;n!=null&&typeof n=="object"&&!Array.isArray(n)?(this.rowSpan=n.rowSpan||1,this.colSpan=n.colSpan||1,i=(s=(l=n.content)!==null&&l!==void 0?l:n.title)!==null&&s!==void 0?s:n,n._element&&(this.raw=n._element)):(this.rowSpan=1,this.colSpan=1);var f=i!=null?""+i:"",p=/\r\n|\r|\n/g;this.text=f.split(p)}return d.prototype.getTextPos=function(){var n;if(this.styles.valign==="top")n=this.y+this.padding("top");else if(this.styles.valign==="bottom")n=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");n=this.y+t/2+this.padding("top")}var e;if(this.styles.halign==="right")e=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var l=this.width-this.padding("horizontal");e=this.x+l/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:n}},d.prototype.getContentHeight=function(n,t){t===void 0&&(t=1.15);var e=Array.isArray(this.text)?this.text.length:1,l=this.styles.fontSize/n*t,s=e*l+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},d.prototype.padding=function(n){var t=(0,m.parseSpacing)(this.styles.cellPadding,0);return n==="vertical"?t.top+t.bottom:n==="horizontal"?t.left+t.right:t[n]},d}();h.Cell=S;var y=function(){function d(n,t,e){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=n,this.raw=t,this.index=e}return d.prototype.getMaxCustomCellWidth=function(n){for(var t=0,e=0,l=n.allRows();e<l.length;e++){var s=l[e],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(t=Math.max(t,i.styles.cellWidth))}return t},d}();h.Column=y},356:function(D,h){Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function H(M,b,m,w,a){if(M==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(M),y=1;y<arguments.length;y++){var d=arguments[y];if(d!=null)for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(S[n]=d[n])}return S}h.assign=H},972:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.createTable=void 0;var M=H(744),b=H(260),m=H(324),w=H(796),a=H(356);function S(s,i){var f=new M.DocHandler(s),p=y(i,f.scaleFactor()),v=new b.Table(i,p);return(0,m.calculateWidths)(f,v),f.applyStyles(f.userStyles),v}h.createTable=S;function y(s,i){var f=s.content,p=e(f.columns);if(f.head.length===0){var v=n(p,"head");v&&f.head.push(v)}if(f.foot.length===0){var v=n(p,"foot");v&&f.foot.push(v)}var c=s.settings.theme,o=s.styles;return{columns:p,head:d("head",f.head,p,o,c,i),body:d("body",f.body,p,o,c,i),foot:d("foot",f.foot,p,o,c,i)}}function d(s,i,f,p,v,c){var o={},P=i.map(function(W,j){for(var u=0,r={},C=0,g=0,x=0,_=f;x<_.length;x++){var T=_[x];if(o[T.index]==null||o[T.index].left===0)if(g===0){var k=void 0;Array.isArray(W)?k=W[T.index-C-u]:k=W[T.dataKey];var O={};typeof k=="object"&&!Array.isArray(k)&&(O=k?.styles||{});var R=l(s,T,j,v,p,c,O),A=new b.Cell(k,R,s);r[T.dataKey]=A,r[T.index]=A,g=A.colSpan-1,o[T.index]={left:A.rowSpan-1,times:g}}else g--,C++;else o[T.index].left--,g=o[T.index].times,u++}return new b.Row(W,j,s,r)});return P}function n(s,i){var f={};return s.forEach(function(p){if(p.raw!=null){var v=t(i,p.raw);v!=null&&(f[p.dataKey]=v)}}),Object.keys(f).length>0?f:null}function t(s,i){if(s==="head"){if(typeof i=="object")return i.header||i.title||null;if(typeof i=="string"||typeof i=="number")return i}else if(s==="foot"&&typeof i=="object")return i.footer;return null}function e(s){return s.map(function(i,f){var p,v,c;return typeof i=="object"?c=(v=(p=i.dataKey)!==null&&p!==void 0?p:i.key)!==null&&v!==void 0?v:f:c=f,new b.Column(c,i,f)})}function l(s,i,f,p,v,c,o){var P=(0,w.getTheme)(p),W;s==="head"?W=v.headStyles:s==="body"?W=v.bodyStyles:s==="foot"&&(W=v.footStyles);var j=(0,a.assign)({},P.table,P[s],v.styles,W),u=v.columnStyles[i.dataKey]||v.columnStyles[i.index]||{},r=s==="body"?u:{},C=s==="body"&&f%2===0?(0,a.assign)({},P.alternateRow,v.alternateRowStyles):{},g=(0,w.defaultStyles)(c),x=(0,a.assign)({},g,j,C,r);return(0,a.assign)(x,o)}},664:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.addPage=h.drawTable=void 0;var M=H(420),b=H(260),m=H(744),w=H(356),a=H(136),S=H(224);function y(u,r){var C=r.settings,g=C.startY,x=C.margin,_={x:x.left,y:g},T=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),k=g+x.bottom+T;if(C.pageBreak==="avoid"){var O=r.body,R=O.reduce(function($,V){return $+V.height},0);k+=R}var A=new m.DocHandler(u);(C.pageBreak==="always"||C.startY!=null&&k>A.pageSize().height)&&(j(A),_.y=x.top),r.callWillDrawPageHooks(A,_);var U=(0,w.assign)({},_);r.startPageNumber=A.pageNumber(),C.horizontalPageBreak?d(A,r,U,_):(A.applyStyles(A.userStyles),(C.showHead==="firstPage"||C.showHead==="everyPage")&&r.head.forEach(function($){return v(A,r,$,_,r.columns)}),A.applyStyles(A.userStyles),r.body.forEach(function($,V){var Z=V===r.body.length-1;p(A,r,$,Z,U,_,r.columns)}),A.applyStyles(A.userStyles),(C.showFoot==="lastPage"||C.showFoot==="everyPage")&&r.foot.forEach(function($){return v(A,r,$,_,r.columns)})),(0,M.addTableBorder)(A,r,U,_),r.callEndPageHooks(A,_),r.finalY=_.y,u.lastAutoTable=r,u.previousAutoTable=r,u.autoTable&&(u.autoTable.previous=r),A.applyStyles(A.userStyles)}h.drawTable=y;function d(u,r,C,g){var x=(0,S.calculateAllColumnsCanFitInPage)(u,r),_=r.settings;if(_.horizontalPageBreakBehaviour==="afterAllRows")x.forEach(function(R,A){u.applyStyles(u.userStyles),A>0?W(u,r,C,g,R.columns,!0):n(u,r,g,R.columns),t(u,r,C,g,R.columns),l(u,r,g,R.columns)});else for(var T=-1,k=x[0],O=function(){var R=T;if(k){u.applyStyles(u.userStyles);var A=k.columns;T>=0?W(u,r,C,g,A,!0):n(u,r,g,A),R=e(u,r,T+1,g,A),l(u,r,g,A)}var U=R-T;x.slice(1).forEach(function($){u.applyStyles(u.userStyles),W(u,r,C,g,$.columns,!0),e(u,r,T+1,g,$.columns,U),l(u,r,g,$.columns)}),T=R};T<r.body.length-1;)O()}function n(u,r,C,g){var x=r.settings;u.applyStyles(u.userStyles),(x.showHead==="firstPage"||x.showHead==="everyPage")&&r.head.forEach(function(_){return v(u,r,_,C,g)})}function t(u,r,C,g,x){u.applyStyles(u.userStyles),r.body.forEach(function(_,T){var k=T===r.body.length-1;p(u,r,_,k,C,g,x)})}function e(u,r,C,g,x,_){u.applyStyles(u.userStyles),_=_??r.body.length;var T=Math.min(C+_,r.body.length),k=-1;return r.body.slice(C,T).forEach(function(O,R){var A=C+R===r.body.length-1,U=P(u,r,A,g);O.canEntireRowFit(U,x)&&(v(u,r,O,g,x),k=C+R)}),k}function l(u,r,C,g){var x=r.settings;u.applyStyles(u.userStyles),(x.showFoot==="lastPage"||x.showFoot==="everyPage")&&r.foot.forEach(function(_){return v(u,r,_,C,g)})}function s(u,r,C){var g=C.getLineHeight(u.styles.fontSize),x=u.padding("vertical"),_=Math.floor((r-x)/g);return Math.max(0,_)}function i(u,r,C,g){var x={};u.spansMultiplePages=!0,u.height=0;for(var _=0,T=0,k=C.columns;T<k.length;T++){var O=k[T],R=u.cells[O.index];if(R){Array.isArray(R.text)||(R.text=[R.text]);var A=new b.Cell(R.raw,R.styles,R.section);A=(0,w.assign)(A,R),A.text=[];var U=s(R,r,g);R.text.length>U&&(A.text=R.text.splice(U,R.text.length));var $=g.scaleFactor(),V=g.getLineHeightFactor();R.contentHeight=R.getContentHeight($,V),R.contentHeight>=r&&(R.contentHeight=r,A.styles.minCellHeight-=r),R.contentHeight>u.height&&(u.height=R.contentHeight),A.contentHeight=A.getContentHeight($,V),A.contentHeight>_&&(_=A.contentHeight),x[O.index]=A}}var Z=new b.Row(u.raw,-1,u.section,x,!0);Z.height=_;for(var ot=0,ut=C.columns;ot<ut.length;ot++){var O=ut[ot],A=Z.cells[O.index];A&&(A.height=Z.height);var R=u.cells[O.index];R&&(R.height=u.height)}return Z}function f(u,r,C,g){var x=u.pageSize().height,_=g.settings.margin,T=_.top+_.bottom,k=x-T;r.section==="body"&&(k-=g.getHeadHeight(g.columns)+g.getFootHeight(g.columns));var O=r.getMinimumRowHeight(g.columns,u),R=O<C;if(O>k)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!R)return!1;var A=r.hasRowSpan(g.columns),U=r.getMaxCellHeight(g.columns)>k;return U?(A&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||g.settings.rowPageBreak==="avoid")}function p(u,r,C,g,x,_,T){var k=P(u,r,g,_);if(C.canEntireRowFit(k,T))v(u,r,C,_,T);else if(f(u,C,k,r)){var O=i(C,k,r,u);v(u,r,C,_,T),W(u,r,x,_,T),p(u,r,O,g,x,_,T)}else W(u,r,x,_,T),p(u,r,C,g,x,_,T)}function v(u,r,C,g,x){g.x=r.settings.margin.left;for(var _=0,T=x;_<T.length;_++){var k=T[_],O=C.cells[k.index];if(!O){g.x+=k.width;continue}u.applyStyles(O.styles),O.x=g.x,O.y=g.y;var R=r.callCellHooks(u,r.hooks.willDrawCell,O,C,k,g);if(R===!1){g.x+=k.width;continue}c(u,O,g);var A=O.getTextPos();(0,a.default)(O.text,A.x,A.y,{halign:O.styles.halign,valign:O.styles.valign,maxWidth:Math.ceil(O.width-O.padding("left")-O.padding("right"))},u.getDocument()),r.callCellHooks(u,r.hooks.didDrawCell,O,C,k,g),g.x+=k.width}g.y+=C.height}function c(u,r,C){var g=r.styles;if(u.getDocument().setFillColor(u.getDocument().getFillColor()),typeof g.lineWidth=="number"){var x=(0,M.getFillStyle)(g.lineWidth,g.fillColor);x&&u.rect(r.x,C.y,r.width,r.height,x)}else typeof g.lineWidth=="object"&&(g.fillColor&&u.rect(r.x,C.y,r.width,r.height,"F"),o(u,r,C,g.lineWidth))}function o(u,r,C,g){var x,_,T,k;g.top&&(x=C.x,_=C.y,T=C.x+r.width,k=C.y,g.right&&(T+=.5*g.right),g.left&&(x-=.5*g.left),O(g.top,x,_,T,k)),g.bottom&&(x=C.x,_=C.y+r.height,T=C.x+r.width,k=C.y+r.height,g.right&&(T+=.5*g.right),g.left&&(x-=.5*g.left),O(g.bottom,x,_,T,k)),g.left&&(x=C.x,_=C.y,T=C.x,k=C.y+r.height,g.top&&(_-=.5*g.top),g.bottom&&(k+=.5*g.bottom),O(g.left,x,_,T,k)),g.right&&(x=C.x+r.width,_=C.y,T=C.x+r.width,k=C.y+r.height,g.top&&(_-=.5*g.top),g.bottom&&(k+=.5*g.bottom),O(g.right,x,_,T,k));function O(R,A,U,$,V){u.getDocument().setLineWidth(R),u.getDocument().line(A,U,$,V,"S")}}function P(u,r,C,g){var x=r.settings.margin.bottom,_=r.settings.showFoot;return(_==="everyPage"||_==="lastPage"&&C)&&(x+=r.getFootHeight(r.columns)),u.pageSize().height-g.y-x}function W(u,r,C,g,x,_){x===void 0&&(x=[]),_===void 0&&(_=!1),u.applyStyles(u.userStyles),r.settings.showFoot==="everyPage"&&!_&&r.foot.forEach(function(k){return v(u,r,k,g,x)}),r.callEndPageHooks(u,g);var T=r.settings.margin;(0,M.addTableBorder)(u,r,C,g),j(u),r.pageNumber++,r.pageCount++,g.x=T.left,g.y=T.top,C.y=T.top,r.callWillDrawPageHooks(u,g),r.settings.showHead==="everyPage"&&(r.head.forEach(function(k){return v(u,r,k,g,x)}),u.applyStyles(u.userStyles))}h.addPage=W;function j(u){var r=u.pageNumber();u.setPage(r+1);var C=u.pageNumber();return C===r?(u.addPage(),!0):!1}},224:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.calculateAllColumnsCanFitInPage=void 0;var M=H(420);function b(w,a,S){var y;S===void 0&&(S={});var d=(0,M.getPageAvailableWidth)(w,a),n=new Map,t=[],e=[],l=[];a.settings.horizontalPageBreakRepeat,Array.isArray(a.settings.horizontalPageBreakRepeat)?l=a.settings.horizontalPageBreakRepeat:(typeof a.settings.horizontalPageBreakRepeat=="string"||typeof a.settings.horizontalPageBreakRepeat=="number")&&(l=[a.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var v=a.columns.find(function(c){return c.dataKey===p||c.index===p});v&&!n.has(v.index)&&(n.set(v.index,!0),t.push(v.index),e.push(a.columns[v.index]),d-=v.wrappedWidth)});for(var s=!0,i=(y=S?.start)!==null&&y!==void 0?y:0;i<a.columns.length;){if(n.has(i)){i++;continue}var f=a.columns[i].wrappedWidth;if(s||d>=f)s=!1,t.push(i),e.push(a.columns[i]),d-=f;else break;i++}return{colIndexes:t,columns:e,lastIndex:i-1}}function m(w,a){for(var S=[],y=0;y<a.columns.length;y++){var d=b(w,a,{start:y});d.columns.length&&(S.push(d),y=d.lastIndex)}return S}h.calculateAllColumnsCanFitInPage=m},324:function(D,h,H){Object.defineProperty(h,"__esModule",{value:!0}),h.ellipsize=h.resizeColumns=h.calculateWidths=void 0;var M=H(420);function b(t,e){m(t,e);var l=[],s=0;e.columns.forEach(function(f){var p=f.getMaxCustomCellWidth(e);p?f.width=p:(f.width=f.wrappedWidth,l.push(f)),s+=f.width});var i=e.getWidth(t.pageSize().width)-s;i&&(i=w(l,i,function(f){return Math.max(f.minReadableWidth,f.minWidth)})),i&&(i=w(l,i,function(f){return f.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),S(e),y(e,t),a(e)}h.calculateWidths=b;function m(t,e){var l=t.scaleFactor(),s=e.settings.horizontalPageBreak,i=(0,M.getPageAvailableWidth)(t,e);e.allRows().forEach(function(f){for(var p=0,v=e.columns;p<v.length;p++){var c=v[p],o=f.cells[c.index];if(o){var P=e.hooks.didParseCell;e.callCellHooks(t,P,o,f,c,null);var W=o.padding("horizontal");o.contentWidth=(0,M.getStringWidth)(o.text,o.styles,t)+W;var j=(0,M.getStringWidth)(o.text.join(" ").split(/[^\S\u00A0]+/),o.styles,t);if(o.minReadableWidth=j+o.padding("horizontal"),typeof o.styles.cellWidth=="number")o.minWidth=o.styles.cellWidth,o.wrappedWidth=o.styles.cellWidth;else if(o.styles.cellWidth==="wrap"||s===!0)o.contentWidth>i?(o.minWidth=i,o.wrappedWidth=i):(o.minWidth=o.contentWidth,o.wrappedWidth=o.contentWidth);else{var u=10/l;o.minWidth=o.styles.minCellWidth||u,o.wrappedWidth=o.contentWidth,o.minWidth>o.wrappedWidth&&(o.wrappedWidth=o.minWidth)}}}}),e.allRows().forEach(function(f){for(var p=0,v=e.columns;p<v.length;p++){var c=v[p],o=f.cells[c.index];if(o&&o.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,o.wrappedWidth),c.minWidth=Math.max(c.minWidth,o.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,o.minReadableWidth);else{var P=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},W=P.cellWidth||P.minCellWidth;W&&typeof W=="number"&&(c.minWidth=W,c.wrappedWidth=W)}o&&(o.colSpan>1&&!c.minWidth&&(c.minWidth=o.minWidth),o.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=o.minWidth))}})}function w(t,e,l){for(var s=e,i=t.reduce(function(u,r){return u+r.wrappedWidth},0),f=0;f<t.length;f++){var p=t[f],v=p.wrappedWidth/i,c=s*v,o=p.width+c,P=l(p),W=o<P?P:o;e-=W-p.width,p.width=W}if(e=Math.round(e*1e10)/1e10,e){var j=t.filter(function(u){return e<0?u.width>l(u):!0});j.length&&(e=w(j,e,l))}return e}h.resizeColumns=w;function a(t){for(var e={},l=1,s=t.allRows(),i=0;i<s.length;i++)for(var f=s[i],p=0,v=t.columns;p<v.length;p++){var c=v[p],o=e[c.index];if(l>1)l--,delete f.cells[c.index];else if(o)o.cell.height+=f.height,l=o.cell.colSpan,delete f.cells[c.index],o.left--,o.left<=1&&delete e[c.index];else{var P=f.cells[c.index];if(!P)continue;if(P.height=f.height,P.rowSpan>1){var W=s.length-i,j=P.rowSpan>W?W:P.rowSpan;e[c.index]={cell:P,left:j,row:f}}}}}function S(t){for(var e=t.allRows(),l=0;l<e.length;l++)for(var s=e[l],i=null,f=0,p=0,v=0;v<t.columns.length;v++){var c=t.columns[v];if(p-=1,p>1&&t.columns[v+1])f+=c.width,delete s.cells[c.index];else if(i){var o=i;delete s.cells[c.index],i=null,o.width=c.width+f}else{var o=s.cells[c.index];if(!o)continue;if(p=o.colSpan,f=0,o.colSpan>1){i=o,f+=c.width;continue}o.width=c.width+f}}}function y(t,e){for(var l={count:0,height:0},s=0,i=t.allRows();s<i.length;s++){for(var f=i[s],p=0,v=t.columns;p<v.length;p++){var c=v[p],o=f.cells[c.index];if(o){e.applyStyles(o.styles,!0);var P=o.width-o.padding("horizontal");if(o.styles.overflow==="linebreak")o.text=e.splitTextToSize(o.text,P+1/e.scaleFactor(),{fontSize:o.styles.fontSize});else if(o.styles.overflow==="ellipsize")o.text=d(o.text,P,o.styles,e,"...");else if(o.styles.overflow==="hidden")o.text=d(o.text,P,o.styles,e,"");else if(typeof o.styles.overflow=="function"){var W=o.styles.overflow(o.text,P);typeof W=="string"?o.text=[W]:o.text=W}o.contentHeight=o.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var j=o.contentHeight/o.rowSpan;o.rowSpan>1&&l.count*l.height<j*o.rowSpan?l={height:j,count:o.rowSpan}:l&&l.count>0&&l.height>j&&(j=l.height),j>f.height&&(f.height=j)}}l.count--}}function d(t,e,l,s,i){return t.map(function(f){return n(f,e,l,s,i)})}h.ellipsize=d;function n(t,e,l,s,i){var f=1e4*s.scaleFactor();if(e=Math.ceil(e*f)/f,e>=(0,M.getStringWidth)(t,l,s))return t;for(;e<(0,M.getStringWidth)(t+i,l,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}},964:function(D){if(typeof I>"u"){var h=new Error("Cannot find module 'undefined'");throw h.code="MODULE_NOT_FOUND",h}D.exports=I}},F={};function z(D){var h=F[D];if(h!==void 0)return h.exports;var H=F[D]={exports:{}};return E[D].call(H.exports,H,H.exports,z),H.exports}var B={};return function(){var D=B;Object.defineProperty(D,"__esModule",{value:!0}),D.Cell=D.Column=D.Row=D.Table=D.CellHookData=D.__drawTable=D.__createTable=D.applyPlugin=void 0;var h=z(340),H=z(776),M=z(664),b=z(972),m=z(260);Object.defineProperty(D,"Table",{enumerable:!0,get:function(){return m.Table}});var w=z(172);Object.defineProperty(D,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var a=z(260);Object.defineProperty(D,"Cell",{enumerable:!0,get:function(){return a.Cell}}),Object.defineProperty(D,"Column",{enumerable:!0,get:function(){return a.Column}}),Object.defineProperty(D,"Row",{enumerable:!0,get:function(){return a.Row}});function S(e){(0,h.default)(e)}D.applyPlugin=S;function y(e,l){var s=(0,H.parseInput)(e,l),i=(0,b.createTable)(e,s);(0,M.drawTable)(e,i)}function d(e,l){var s=(0,H.parseInput)(e,l);return(0,b.createTable)(e,s)}D.__createTable=d;function n(e,l){(0,M.drawTable)(e,l)}D.__drawTable=n;try{var t=z(964);t.jsPDF&&(t=t.jsPDF),S(t)}catch{}D.default=y}(),B}()})});lt();var zt=It(Et());var at=class I{constructor(){}exportToPDF(E,F,z,B,D=[]){let h=new Ot;h.setLineWidth(.5),h.setDrawColor(40,116,240),h.rect(5,5,200,287),h.setFontSize(18),h.setTextColor(40,116,240),h.setFont("helvetica","bold"),h.text(z,10,10),D.length>0&&(h.setFontSize(12),h.setTextColor(0),h.setFont("helvetica","normal"),h.text("Datos del Asegurado:",10,20),D.forEach((b,m)=>{h.setFillColor(240,240,240),h.rect(10,26+m*8,190,8,"F"),h.setTextColor(0),h.text(b,12,31+m*8)}));let H=F.map(b=>b.titulo),M=E.map(b=>F.map(m=>b[m.campo]||""));console.log("Encabezados:",H),console.log("Cuerpo de la tabla:",M),(0,zt.default)(h,{head:[H],body:M,startY:50,theme:"striped",headStyles:{fillColor:[40,116,240],textColor:[255,255,255],fontSize:12},bodyStyles:{fontSize:10,cellPadding:4},alternateRowStyles:{fillColor:[240,240,240]},tableLineWidth:.1,tableLineColor:[0,0,0]}),h.save(`${B}.pdf`)}static \u0275fac=function(F){return new(F||I)};static \u0275prov=ht({token:I,factory:I.\u0275fac,providedIn:"root"})};var Ut=()=>({"min-width":"50rem","max-width":"100%"});function $t(I,E){if(I&1){let F=rt();L(0,"div")(1,"input",11),X("change",function(){let B=et(F).$implicit,D=tt(2);return it(D.toggleSeleccionColumna(B))}),N(),L(2,"label"),Y(3),N()()}if(I&2){let F=E.$implicit;K(),q("checked",F.seleccionada),K(2),J(F.titulo)}}function Yt(I,E){if(I&1){let F=rt();L(0,"div",8)(1,"h4"),Y(2,"Selecciona las columnas a exportar:"),N(),nt(3,$t,4,2,"div",9),L(4,"button",10),X("click",function(){et(F);let B=tt();return it(B.exportarHistoriaClinica())}),N()()}if(I&2){let F=tt();K(3),q("ngForOf",F.columnasDisponibles)}}function Kt(I,E){I&1&&(L(0,"tr")(1,"th",12),Y(2,"ID Consulta"),N(),L(3,"th",13),Y(4,"Fecha Consulta"),N(),L(5,"th",14),Y(6,"Motivo Consulta"),N(),L(7,"th",13),Y(8,"Diagn\xF3stico"),N(),L(9,"th",13),Y(10,"Nota"),N(),L(11,"th",15),Y(12,"Acciones"),N()())}function Gt(I,E){if(I&1){let F=rt();L(0,"tr")(1,"td"),Y(2),N(),L(3,"td"),Y(4),N(),L(5,"td"),Y(6),N(),L(7,"td"),Y(8),N(),L(9,"td"),Y(10),N(),L(11,"td")(12,"button",16),X("click",function(){let B=et(F).$implicit,D=tt();return it(D.irATratamiento(B.id))}),N()()()}if(I&2){let F=E.$implicit;K(2),J(F.id),K(2),J(F.fechaConsulta),K(2),J(F.motivoConsulta),K(2),J(F.diagnostico),K(2),J(F.nota)}}var ft=class I{constructor(E,F,z,B,D,h,H,M){this.router=E;this.route=F;this.aseguradoService=z;this.consultaService=B;this.tratamientoService=D;this.bitacoraService=h;this.authService=H;this.pdfExportService=M}asegurado=null;mostrarSeleccionColumnas=!1;columnasDisponibles=[{campo:"id",titulo:"ID Consulta",seleccionada:!0},{campo:"fechaConsulta",titulo:"Fecha Consulta",seleccionada:!0},{campo:"motivoConsulta",titulo:"Motivo Consulta",seleccionada:!0},{campo:"diagnostico",titulo:"Diagn\xF3stico",seleccionada:!0},{campo:"nota",titulo:"Nota",seleccionada:!0}];consultas=[];ngOnInit(){this.route.paramMap.subscribe(E=>{let F=Number(E.get("aseguradoId"));F&&this.obtenerAsegurado(F)})}obtenerAsegurado(E){this.aseguradoService.getAseguradoById(E).subscribe(F=>{this.asegurado=F,F.historiaClinica&&F.historiaClinica.id&&this.obtenerConsultas(F.historiaClinica.id)},F=>{console.error("Error al obtener el asegurado:",F)})}obtenerConsultas(E){this.consultaService.getConsultasPorHistoriaClinicaId(E).subscribe(F=>{this.consultas=F,this.verificarTratamientos()},F=>{console.error("Error al obtener las consultas:",F)})}verificarTratamientos(){this.consultas.forEach(E=>{E.id!==void 0?this.tratamientoService.getTratamientoByConsultaId(E.id).subscribe(F=>{E.tieneTratamiento=!!F},F=>{E.tieneTratamiento=!1}):E.tieneTratamiento=!1})}registrarBitacora(E,F,z){this.bitacoraService.getUserIP().subscribe({next:B=>{let D=new Date,h=`${D.getFullYear()}-${(D.getMonth()+1).toString().padStart(2,"0")}-${D.getDate().toString().padStart(2,"0")}`,H=`${D.getHours().toString().padStart(2,"0")}:${D.getMinutes().toString().padStart(2,"0")}:${D.getSeconds().toString().padStart(2,"0")}`,M={correo:this.authService.getAuthenticatedUserEmail()||"",fecha:h,hora:H,ip:B.ip,accion:E,detalle:F};this.bitacoraService.createBitacora(M).subscribe({next:()=>{console.log("Registro de bit\xE1cora exitoso"),z()},error:b=>{console.error("Error al registrar en bit\xE1cora",b),z()}})},error:B=>{console.error("Error al obtener IP",B),z()}})}irATratamiento(E){if(this.asegurado){let F=`${this.asegurado.usuario.nombre} ${this.asegurado.usuario.apellido}`,z=`Listar tratamiento de la consulta (${E}) del paciente (${F})`;this.registrarBitacora("Listar tratamiento",z,()=>{this.router.navigate(["/tratamiento",E])})}else console.error("El asegurado no est\xE1 disponible."),this.router.navigate(["/tratamiento",E])}toggleSeleccionColumna(E){E.seleccionada=!E.seleccionada}exportarHistoriaClinica(){let E=this.columnasDisponibles.filter(B=>B.seleccionada),F=this.consultas.map(B=>{let D={};return E.forEach(h=>{D[h.campo]=B[h.campo]||""}),D}),z=this.asegurado?[`Nombre: ${this.asegurado.usuario?.nombre||""} ${this.asegurado.usuario?.apellido||""}`,`CI: ${this.asegurado.usuario?.ci||""}`,`Fecha de Nacimiento: ${this.asegurado.fechaNacimiento||""}`,`Tipo de Sangre: ${this.asegurado.tipoSangre||""}`]:[];this.pdfExportService.exportToPDF(F,E,"Historia Cl\xEDnica","historia_clinica",z)}static \u0275fac=function(F){return new(F||I)(G(St),G(bt),G(At),G(Mt),G(Rt),G(wt),G(Ct),G(at))};static \u0275cmp=gt({type:I,selectors:[["app-historia-clinica"]],standalone:!0,features:[ct],decls:10,vars:4,consts:[[1,"column-selector-container"],["pButton","","type","button","label","Seleccionar Columnas","icon","pi pi-cog",3,"click"],["class","column-selector",4,"ngIf"],[1,"historia-clinica-container"],["pButton","","type","button","label","Exportar PDF","icon","pi pi-file-pdf",3,"click"],["dataKey","id",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"column-selector"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Exportar Seleccionadas","icon","pi pi-file-pdf",3,"click"],["type","checkbox",3,"change","checked"],[2,"width","15%"],[2,"width","20%"],[2,"width","25%"],[2,"width","10%"],["pButton","","type","button","icon","pi pi-arrow-right",1,"p-button-rounded","p-button-text","p-button-info",3,"click"]],template:function(F,z){F&1&&(L(0,"div",0)(1,"button",1),X("click",function(){return z.mostrarSeleccionColumnas=!z.mostrarSeleccionColumnas}),N()(),nt(2,Yt,5,1,"div",2),L(3,"div",3)(4,"h3"),Y(5,"Historia Cl\xEDnica de Usuario"),N(),L(6,"button",4),X("click",function(){return z.exportarHistoriaClinica()}),N(),L(7,"p-table",5),nt(8,Kt,13,0,"ng-template",6)(9,Gt,13,5,"ng-template",7),N()()),F&2&&(K(2),q("ngIf",z.mostrarSeleccionColumnas),K(5),q("value",z.consultas)("tableStyle",pt(3,Ut)))},dependencies:[yt,vt,mt,kt,Ft,_t,Pt,Tt,xt,Ht,Wt,Dt],styles:[".historia-clinica-container[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:1.5rem;background-color:#f9f9f9;border-radius:12px;box-shadow:0 4px 8px #0000001a}.historia-clinica-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#3f51b5;text-align:center;margin-bottom:1.5rem;border-bottom:2px solid #ddd;padding-bottom:.5rem}.p-table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;font-size:.95rem;box-shadow:0 4px 8px #0000001a}.p-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:12px;text-align:center;font-weight:700}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0f7fa}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:center;vertical-align:middle}.p-button-info[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important;width:2.5rem;height:2.5rem;border-radius:50%;transition:background-color .3s ease}.p-button-info[_ngcontent-%COMP%]:hover{background-color:#2c3e9e!important}.column-selector-container[_ngcontent-%COMP%]{margin-bottom:1rem}.column-selector[_ngcontent-%COMP%]{background:#f9f9f9;padding:1rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.column-selector[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.5rem}.column-selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:.25rem}.column-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}"]})};export{ft as default};
