import{a as Ot,b as jt,c as lt}from"./chunk-HWUH7ABB.js";import"./chunk-JCJIXIGU.js";import{a as Rt}from"./chunk-UJ32YO6L.js";import{a as Mt}from"./chunk-MZW6JDJM.js";import{a as At}from"./chunk-64ACLIH3.js";import{a as Dt,b as Wt}from"./chunk-37FNDG3E.js";import{B as Ft,f as _t,k as Ht,l as xt,n as Tt,u as kt}from"./chunk-LJKAMAZ5.js";import{j as Pt}from"./chunk-W5NNSEVP.js";import"./chunk-4YRY4IP2.js";import{a as wt}from"./chunk-S2R25WKX.js";import{h as bt,j as St,o as Ct}from"./chunk-V6WZIOIM.js";import{l as vt,m as mt,r as yt}from"./chunk-2HP4KZBQ.js";import{$a as q,Fb as ct,Gb as pt,Ka as K,La as G,N as ht,X as gt,Ya as nt,ea as et,eb as L,fa as it,fb as N,kb as rt,nb as X,ob as tt,xb as $,yb as J}from"./chunk-TOSOZOFE.js";import{e as Bt,g as It,h as dt}from"./chunk-ODN5LVDJ.js";var Et=Bt((Q,st)=>{"use strict";(function(E,k){if(typeof Q=="object"&&typeof st=="object")st.exports=k(function(){try{return lt(),dt(jt)}catch{}}());else if(typeof define=="function"&&define.amd)define(["jspdf"],k);else{var z=k(typeof Q=="object"?function(){try{return lt(),dt(jt)}catch{}}():E.jspdf);for(var B in z)(typeof Q=="object"?Q:E)[B]=z[B]}})(typeof globalThis<"u"?globalThis:typeof Q<"u"?Q:typeof window<"u"?window:typeof self<"u"?self:global,function(I){return function(){"use strict";var E={172:function(T,m){var H=this&&this.__extends||function(){var y=function(w,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,v){b.__proto__=v}||function(b,v){for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(b[d]=v[d])},y(w,a)};return function(w,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");y(w,a);function b(){this.constructor=w}w.prototype=a===null?Object.create(a):(b.prototype=a.prototype,new b)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.CellHookData=m.HookData=void 0;var M=function(){function y(w,a,b){this.table=a,this.pageNumber=a.pageNumber,this.pageCount=this.pageNumber,this.settings=a.settings,this.cursor=b,this.doc=w.getDocument()}return y}();m.HookData=M;var C=function(y){H(w,y);function w(a,b,v,d,n,t){var e=y.call(this,a,b,t)||this;return e.cell=v,e.row=d,e.column=n,e.section=d.section,e}return w}(M);m.CellHookData=C},340:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0});var M=H(4),C=H(136),y=H(744),w=H(776),a=H(664),b=H(972);function v(d){d.API.autoTable=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e;n.length===1?e=n[0]:(console.error("Use of deprecated autoTable initiation"),e=n[2]||{},e.columns=n[0],e.body=n[1]);var l=(0,w.parseInput)(this,e),s=(0,b.createTable)(this,l);return(0,a.drawTable)(this,s),this},d.API.lastAutoTable=!1,d.API.previousAutoTable=!1,d.API.autoTable.previous=!1,d.API.autoTableText=function(n,t,e,l){(0,C.default)(n,t,e,l,this)},d.API.autoTableSetDefaults=function(n){return y.DocHandler.setDefaults(n,this),this},d.autoTableSetDefaults=function(n,t){y.DocHandler.setDefaults(n,t)},d.API.autoTableHtmlToJson=function(n,t){var e;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var l=new y.DocHandler(this),s=(0,M.parseHtml)(l,n,window,t,!1),i=s.head,f=s.body,c=((e=i[0])===null||e===void 0?void 0:e.map(function(p){return p.content}))||[];return{columns:c,rows:f,data:f}},d.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var n=this.lastAutoTable;return n&&n.finalY?n.finalY:0},d.API.autoTableAddPageContent=function(n){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),d.API.autoTable.globalDefaults||(d.API.autoTable.globalDefaults={}),d.API.autoTable.globalDefaults.addPageContent=n,this},d.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}m.default=v},136:function(T,m){Object.defineProperty(m,"__esModule",{value:!0});function H(M,C,y,w,a){w=w||{};var b=1.15,v=a.internal.scaleFactor,d=a.internal.getFontSize()/v,n=a.getLineHeightFactor?a.getLineHeightFactor():b,t=d*n,e=/\r\n|\r|\n/g,l="",s=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(l=typeof M=="string"?M.split(e):M,s=l.length||1),y+=d*(2-b),w.valign==="middle"?y-=s/2*t:w.valign==="bottom"&&(y-=s*t),w.halign==="center"||w.halign==="right"){var i=d;if(w.halign==="center"&&(i*=.5),l&&s>=1){for(var f=0;f<l.length;f++)a.text(l[f],C-a.getStringUnitWidth(l[f])*i,y),y+=t;return a}C-=a.getStringUnitWidth(M)*i}return w.halign==="justify"?a.text(M,C,y,{maxWidth:w.maxWidth||100,align:"justify"}):a.text(M,C,y),a}m.default=H},420:function(T,m){Object.defineProperty(m,"__esModule",{value:!0}),m.getPageAvailableWidth=m.parseSpacing=m.getFillStyle=m.addTableBorder=m.getStringWidth=void 0;function H(a,b,v){v.applyStyles(b,!0);var d=Array.isArray(a)?a:[a],n=d.map(function(t){return v.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0);return n}m.getStringWidth=H;function M(a,b,v,d){var n=b.settings.tableLineWidth,t=b.settings.tableLineColor;a.applyStyles({lineWidth:n,lineColor:t});var e=C(n,!1);e&&a.rect(v.x,v.y,b.getWidth(a.pageSize().width),d.y-v.y,e)}m.addTableBorder=M;function C(a,b){var v=a>0,d=b||b===0;return v&&d?"DF":v?"S":d?"F":null}m.getFillStyle=C;function y(a,b){var v,d,n,t;if(a=a||b,Array.isArray(a)){if(a.length>=4)return{top:a[0],right:a[1],bottom:a[2],left:a[3]};if(a.length===3)return{top:a[0],right:a[1],bottom:a[2],left:a[1]};if(a.length===2)return{top:a[0],right:a[1],bottom:a[0],left:a[1]};a.length===1?a=a[0]:a=b}return typeof a=="object"?(typeof a.vertical=="number"&&(a.top=a.vertical,a.bottom=a.vertical),typeof a.horizontal=="number"&&(a.right=a.horizontal,a.left=a.horizontal),{left:(v=a.left)!==null&&v!==void 0?v:b,top:(d=a.top)!==null&&d!==void 0?d:b,right:(n=a.right)!==null&&n!==void 0?n:b,bottom:(t=a.bottom)!==null&&t!==void 0?t:b}):(typeof a!="number"&&(a=b),{top:a,right:a,bottom:a,left:a})}m.parseSpacing=y;function w(a,b){var v=y(b.settings.margin,0);return a.pageSize().width-(v.left+v.right)}m.getPageAvailableWidth=w},796:function(T,m){var H=this&&this.__extends||function(){var w=function(a,b){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(v[n]=d[n])},w(a,b)};return function(a,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");w(a,b);function v(){this.constructor=a}a.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.getTheme=m.defaultStyles=m.HtmlRowInput=void 0;var M=function(w){H(a,w);function a(b){var v=w.call(this)||this;return v._element=b,v}return a}(Array);m.HtmlRowInput=M;function C(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}m.defaultStyles=C;function y(w){var a={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return a[w]}m.getTheme=y},903:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.parseCss=void 0;var M=H(420);function C(v,d,n,t,e){var l={},s=1.3333333333333333,i=w(d,function(h){return e.getComputedStyle(h).backgroundColor});i!=null&&(l.fillColor=i);var f=w(d,function(h){return e.getComputedStyle(h).color});f!=null&&(l.textColor=f);var c=b(t,n);c&&(l.cellPadding=c);var p="borderTopColor",g=s*n,o=t.borderTopWidth;if(t.borderBottomWidth===o&&t.borderRightWidth===o&&t.borderLeftWidth===o){var P=(parseFloat(o)||0)/g;P&&(l.lineWidth=P)}else l.lineWidth={top:(parseFloat(t.borderTopWidth)||0)/g,right:(parseFloat(t.borderRightWidth)||0)/g,bottom:(parseFloat(t.borderBottomWidth)||0)/g,left:(parseFloat(t.borderLeftWidth)||0)/g},l.lineWidth.top||(l.lineWidth.right?p="borderRightColor":l.lineWidth.bottom?p="borderBottomColor":l.lineWidth.left&&(p="borderLeftColor"));var W=w(d,function(h){return e.getComputedStyle(h)[p]});W!=null&&(l.lineColor=W);var j=["left","right","center","justify"];j.indexOf(t.textAlign)!==-1&&(l.halign=t.textAlign),j=["middle","bottom","top"],j.indexOf(t.verticalAlign)!==-1&&(l.valign=t.verticalAlign);var u=parseInt(t.fontSize||"");isNaN(u)||(l.fontSize=u/s);var r=y(t);r&&(l.fontStyle=r);var S=(t.fontFamily||"").toLowerCase();return v.indexOf(S)!==-1&&(l.font=S),l}m.parseCss=C;function y(v){var d="";return(v.fontWeight==="bold"||v.fontWeight==="bolder"||parseInt(v.fontWeight)>=700)&&(d="bold"),(v.fontStyle==="italic"||v.fontStyle==="oblique")&&(d+="italic"),d}function w(v,d){var n=a(v,d);if(!n)return null;var t=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!t||!Array.isArray(t))return null;var e=[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])],l=parseInt(t[4]);return l===0||isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function a(v,d){var n=d(v);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?v.parentElement==null?null:a(v.parentElement,d):n}function b(v,d){var n=[v.paddingTop,v.paddingRight,v.paddingBottom,v.paddingLeft],t=96/(72/d),e=(parseInt(v.lineHeight)-parseInt(v.fontSize))/d/2,l=n.map(function(i){return parseInt(i||"0")/t}),s=(0,M.parseSpacing)(l,0);return e>s.top&&(s.top=e),e>s.bottom&&(s.bottom=e),s}},744:function(T,m){Object.defineProperty(m,"__esModule",{value:!0}),m.DocHandler=void 0;var H={},M=function(){function C(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return C.setDefaults=function(y,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=y:H=y},C.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},C.prototype.applyStyles=function(y,w){var a,b,v;w===void 0&&(w=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var d=this.jsPDFDocument.internal.getFont(),n=d.fontStyle,t=d.fontName;if(y.font&&(t=y.font),y.fontStyle){n=y.fontStyle;var e=this.getFontList()[t];e&&e.indexOf(n)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e[0]),n=e[0])}if(this.jsPDFDocument.setFont(t,n),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!w){var l=C.unifyColor(y.fillColor);l&&(a=this.jsPDFDocument).setFillColor.apply(a,l),l=C.unifyColor(y.textColor),l&&(b=this.jsPDFDocument).setTextColor.apply(b,l),l=C.unifyColor(y.lineColor),l&&(v=this.jsPDFDocument).setDrawColor.apply(v,l),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},C.prototype.splitTextToSize=function(y,w,a){return this.jsPDFDocument.splitTextToSize(y,w,a)},C.prototype.rect=function(y,w,a,b,v){return this.jsPDFDocument.rect(y,w,a,b,v)},C.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},C.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},C.prototype.getDocument=function(){return this.jsPDFDocument},C.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},C.prototype.addPage=function(){return this.jsPDFDocument.addPage()},C.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},C.prototype.getGlobalOptions=function(){return H||{}},C.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},C.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},C.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},C.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},C.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},C.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},C}();m.DocHandler=M},4:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.parseHtml=void 0;var M=H(903),C=H(796);function y(b,v,d,n,t){var e,l;n===void 0&&(n=!1),t===void 0&&(t=!1);var s;typeof v=="string"?s=d.document.querySelector(v):s=v;var i=Object.keys(b.getFontList()),f=b.scaleFactor(),c=[],p=[],g=[];if(!s)return console.error("Html table could not be found with input: ",v),{head:c,body:p,foot:g};for(var o=0;o<s.rows.length;o++){var P=s.rows[o],W=(l=(e=P?.parentElement)===null||e===void 0?void 0:e.tagName)===null||l===void 0?void 0:l.toLowerCase(),j=w(i,f,d,P,n,t);j&&(W==="thead"?c.push(j):W==="tfoot"?g.push(j):p.push(j))}return{head:c,body:p,foot:g}}m.parseHtml=y;function w(b,v,d,n,t,e){for(var l=new C.HtmlRowInput(n),s=0;s<n.cells.length;s++){var i=n.cells[s],f=d.getComputedStyle(i);if(t||f.display!=="none"){var c=void 0;e&&(c=(0,M.parseCss)(b,i,v,f,d)),l.push({rowSpan:i.rowSpan,colSpan:i.colSpan,styles:c,_element:i,content:a(i)})}}var p=d.getComputedStyle(n);if(l.length>0&&(t||p.display!=="none"))return l}function a(b){var v=b.cloneNode(!0);return v.innerHTML=v.innerHTML.replace(/\n/g,"").replace(/ +/g," "),v.innerHTML=v.innerHTML.split(/<br.*?>/).map(function(d){return d.trim()}).join(`
`),v.innerText||v.textContent||""}},776:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.parseInput=void 0;var M=H(4),C=H(356),y=H(420),w=H(744),a=H(792);function b(s,i){var f=new w.DocHandler(s),c=f.getDocumentOptions(),p=f.getGlobalOptions();(0,a.default)(f,p,c,i);var g=(0,C.assign)({},p,c,i),o;typeof window<"u"&&(o=window);var P=v(p,c,i),W=d(p,c,i),j=n(f,g),u=e(f,g,o);return{id:i.tableId,content:u,hooks:W,styles:P,settings:j}}m.parseInput=b;function v(s,i,f){for(var c={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},p=function(W){if(W==="columnStyles"){var j=s[W],u=i[W],r=f[W];c.columnStyles=(0,C.assign)({},j,u,r)}else{var S=[s,i,f],h=S.map(function(x){return x[W]||{}});c[W]=(0,C.assign)({},h[0],h[1],h[2])}},g=0,o=Object.keys(c);g<o.length;g++){var P=o[g];p(P)}return c}function d(s,i,f){for(var c=[s,i,f],p={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},g=0,o=c;g<o.length;g++){var P=o[g];P.didParseCell&&p.didParseCell.push(P.didParseCell),P.willDrawCell&&p.willDrawCell.push(P.willDrawCell),P.didDrawCell&&p.didDrawCell.push(P.didDrawCell),P.willDrawPage&&p.willDrawPage.push(P.willDrawPage),P.didDrawPage&&p.didDrawPage.push(P.didDrawPage)}return p}function n(s,i){var f,c,p,g,o,P,W,j,u,r,S,h,x=(0,y.parseSpacing)(i.margin,40/s.scaleFactor()),_=(f=t(s,i.startY))!==null&&f!==void 0?f:x.top,D;i.showFoot===!0?D="everyPage":i.showFoot===!1?D="never":D=(c=i.showFoot)!==null&&c!==void 0?c:"everyPage";var F;i.showHead===!0?F="everyPage":i.showHead===!1?F="never":F=(p=i.showHead)!==null&&p!==void 0?p:"everyPage";var O=(g=i.useCss)!==null&&g!==void 0?g:!1,R=i.theme||(O?"plain":"striped"),A=!!i.horizontalPageBreak,U=(o=i.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(P=i.includeHiddenHtml)!==null&&P!==void 0?P:!1,useCss:O,theme:R,startY:_,margin:x,pageBreak:(W=i.pageBreak)!==null&&W!==void 0?W:"auto",rowPageBreak:(j=i.rowPageBreak)!==null&&j!==void 0?j:"auto",tableWidth:(u=i.tableWidth)!==null&&u!==void 0?u:"auto",showHead:F,showFoot:D,tableLineWidth:(r=i.tableLineWidth)!==null&&r!==void 0?r:0,tableLineColor:(S=i.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:A,horizontalPageBreakRepeat:U,horizontalPageBreakBehaviour:(h=i.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function t(s,i){var f=s.getLastAutoTable(),c=s.scaleFactor(),p=s.pageNumber(),g=!1;if(f&&f.startPageNumber){var o=f.startPageNumber+f.pageNumber-1;g=o===p}return typeof i=="number"?i:(i==null||i===!1)&&g&&f?.finalY!=null?f.finalY+20/c:null}function e(s,i,f){var c=i.head||[],p=i.body||[],g=i.foot||[];if(i.html){var o=i.includeHiddenHtml;if(f){var P=(0,M.parseHtml)(s,i.html,f,o,i.useCss)||{};c=P.head||c,p=P.body||c,g=P.foot||c}else console.error("Cannot parse html in non browser environment")}var W=i.columns||l(c,p,g);return{columns:W,head:c,body:p,foot:g}}function l(s,i,f){var c=s[0]||i[0]||f[0]||[],p=[];return Object.keys(c).filter(function(g){return g!=="_element"}).forEach(function(g){var o=1,P;Array.isArray(c)?P=c[parseInt(g)]:P=c[g],typeof P=="object"&&!Array.isArray(P)&&(o=P?.colSpan||1);for(var W=0;W<o;W++){var j=void 0;Array.isArray(c)?j=p.length:j=g+(W>0?"_".concat(W):"");var u={dataKey:j};p.push(u)}}),p}},792:function(T,m){Object.defineProperty(m,"__esModule",{value:!0});function H(C,y,w,a){for(var b=function(t){t&&typeof t!="object"&&console.error("The options parameter should be of type object, is: "+typeof t),typeof t.extendWidth<"u"&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof t.margins<"u"&&(typeof t.margin>"u"&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&typeof t.startY!="number"&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(g){C.applyStyles(C.userStyles),t.beforePageContent&&t.beforePageContent(g),C.applyStyles(C.userStyles),t.afterPageContent&&t.afterPageContent(g),C.applyStyles(C.userStyles),t.afterPageAdd&&g.pageNumber>1&&g.afterPageAdd(g),C.applyStyles(C.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(g){t[g]&&console.error('The "'.concat(g,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(g){var o=g[0],P=g[1];t[P]&&(console.error("Use of deprecated option ".concat(P,". Use ").concat(o," instead")),t[o]=t[P])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(g){var o=typeof g=="string"?g:g[0],P=typeof g=="string"?g:g[1];typeof t[o]<"u"&&(typeof t.styles[P]>"u"&&(t.styles[P]=t[o]),console.error("Use of deprecated option: "+o+", use the style "+P+" instead."))});for(var e=0,l=["styles","bodyStyles","headStyles","footStyles"];e<l.length;e++){var s=l[e];M(t[s]||{})}for(var i=t.columnStyles||{},f=0,c=Object.keys(i);f<c.length;f++){var p=c[f];M(i[p]||{})}},v=0,d=[y,w,a];v<d.length;v++){var n=d[v];b(n)}}m.default=H;function M(C){C.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),C.minCellHeight||(C.minCellHeight=C.rowHeight)):C.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),C.cellWidth||(C.cellWidth=C.columnWidth))}},260:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.Column=m.Cell=m.Row=m.Table=void 0;var M=H(796),C=H(172),y=H(420),w=function(){function d(n,t){this.pageNumber=1,this.pageCount=1,this.id=n.id,this.settings=n.settings,this.styles=n.styles,this.hooks=n.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return d.prototype.getHeadHeight=function(n){return this.head.reduce(function(t,e){return t+e.getMaxCellHeight(n)},0)},d.prototype.getFootHeight=function(n){return this.foot.reduce(function(t,e){return t+e.getMaxCellHeight(n)},0)},d.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},d.prototype.callCellHooks=function(n,t,e,l,s,i){for(var f=0,c=t;f<c.length;f++){var p=c[f],g=new C.CellHookData(n,this,e,l,s,i),o=p(g)===!1;if(e.text=Array.isArray(e.text)?e.text:[e.text],o)return!1}return!0},d.prototype.callEndPageHooks=function(n,t){n.applyStyles(n.userStyles);for(var e=0,l=this.hooks.didDrawPage;e<l.length;e++){var s=l[e];s(new C.HookData(n,this,t))}},d.prototype.callWillDrawPageHooks=function(n,t){for(var e=0,l=this.hooks.willDrawPage;e<l.length;e++){var s=l[e];s(new C.HookData(n,this,t))}},d.prototype.getWidth=function(n){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(l,s){return l+s.wrappedWidth},0);return t}else{var e=this.settings.margin;return n-e.left-e.right}},d}();m.Table=w;var a=function(){function d(n,t,e,l,s){s===void 0&&(s=!1),this.height=0,this.raw=n,n instanceof M.HtmlRowInput&&(this.raw=n._element,this.element=n._element),this.index=t,this.section=e,this.cells=l,this.spansMultiplePages=s}return d.prototype.getMaxCellHeight=function(n){var t=this;return n.reduce(function(e,l){var s;return Math.max(e,((s=t.cells[l.index])===null||s===void 0?void 0:s.height)||0)},0)},d.prototype.hasRowSpan=function(n){var t=this;return n.filter(function(e){var l=t.cells[e.index];return l?l.rowSpan>1:!1}).length>0},d.prototype.canEntireRowFit=function(n,t){return this.getMaxCellHeight(t)<=n},d.prototype.getMinimumRowHeight=function(n,t){var e=this;return n.reduce(function(l,s){var i=e.cells[s.index];if(!i)return 0;var f=t.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),p=c+f;return p>l?p:l},0)},d}();m.Row=a;var b=function(){function d(n,t,e){var l,s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=e,this.raw=n;var i=n;n!=null&&typeof n=="object"&&!Array.isArray(n)?(this.rowSpan=n.rowSpan||1,this.colSpan=n.colSpan||1,i=(s=(l=n.content)!==null&&l!==void 0?l:n.title)!==null&&s!==void 0?s:n,n._element&&(this.raw=n._element)):(this.rowSpan=1,this.colSpan=1);var f=i!=null?""+i:"",c=/\r\n|\r|\n/g;this.text=f.split(c)}return d.prototype.getTextPos=function(){var n;if(this.styles.valign==="top")n=this.y+this.padding("top");else if(this.styles.valign==="bottom")n=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");n=this.y+t/2+this.padding("top")}var e;if(this.styles.halign==="right")e=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var l=this.width-this.padding("horizontal");e=this.x+l/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:n}},d.prototype.getContentHeight=function(n,t){t===void 0&&(t=1.15);var e=Array.isArray(this.text)?this.text.length:1,l=this.styles.fontSize/n*t,s=e*l+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},d.prototype.padding=function(n){var t=(0,y.parseSpacing)(this.styles.cellPadding,0);return n==="vertical"?t.top+t.bottom:n==="horizontal"?t.left+t.right:t[n]},d}();m.Cell=b;var v=function(){function d(n,t,e){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=n,this.raw=t,this.index=e}return d.prototype.getMaxCustomCellWidth=function(n){for(var t=0,e=0,l=n.allRows();e<l.length;e++){var s=l[e],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(t=Math.max(t,i.styles.cellWidth))}return t},d}();m.Column=v},356:function(T,m){Object.defineProperty(m,"__esModule",{value:!0}),m.assign=void 0;function H(M,C,y,w,a){if(M==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(M),v=1;v<arguments.length;v++){var d=arguments[v];if(d!=null)for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(b[n]=d[n])}return b}m.assign=H},972:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.createTable=void 0;var M=H(744),C=H(260),y=H(324),w=H(796),a=H(356);function b(s,i){var f=new M.DocHandler(s),c=v(i,f.scaleFactor()),p=new C.Table(i,c);return(0,y.calculateWidths)(f,p),f.applyStyles(f.userStyles),p}m.createTable=b;function v(s,i){var f=s.content,c=e(f.columns);if(f.head.length===0){var p=n(c,"head");p&&f.head.push(p)}if(f.foot.length===0){var p=n(c,"foot");p&&f.foot.push(p)}var g=s.settings.theme,o=s.styles;return{columns:c,head:d("head",f.head,c,o,g,i),body:d("body",f.body,c,o,g,i),foot:d("foot",f.foot,c,o,g,i)}}function d(s,i,f,c,p,g){var o={},P=i.map(function(W,j){for(var u=0,r={},S=0,h=0,x=0,_=f;x<_.length;x++){var D=_[x];if(o[D.index]==null||o[D.index].left===0)if(h===0){var F=void 0;Array.isArray(W)?F=W[D.index-S-u]:F=W[D.dataKey];var O={};typeof F=="object"&&!Array.isArray(F)&&(O=F?.styles||{});var R=l(s,D,j,p,c,g,O),A=new C.Cell(F,R,s);r[D.dataKey]=A,r[D.index]=A,h=A.colSpan-1,o[D.index]={left:A.rowSpan-1,times:h}}else h--,S++;else o[D.index].left--,h=o[D.index].times,u++}return new C.Row(W,j,s,r)});return P}function n(s,i){var f={};return s.forEach(function(c){if(c.raw!=null){var p=t(i,c.raw);p!=null&&(f[c.dataKey]=p)}}),Object.keys(f).length>0?f:null}function t(s,i){if(s==="head"){if(typeof i=="object")return i.header||i.title||null;if(typeof i=="string"||typeof i=="number")return i}else if(s==="foot"&&typeof i=="object")return i.footer;return null}function e(s){return s.map(function(i,f){var c,p,g;return typeof i=="object"?g=(p=(c=i.dataKey)!==null&&c!==void 0?c:i.key)!==null&&p!==void 0?p:f:g=f,new C.Column(g,i,f)})}function l(s,i,f,c,p,g,o){var P=(0,w.getTheme)(c),W;s==="head"?W=p.headStyles:s==="body"?W=p.bodyStyles:s==="foot"&&(W=p.footStyles);var j=(0,a.assign)({},P.table,P[s],p.styles,W),u=p.columnStyles[i.dataKey]||p.columnStyles[i.index]||{},r=s==="body"?u:{},S=s==="body"&&f%2===0?(0,a.assign)({},P.alternateRow,p.alternateRowStyles):{},h=(0,w.defaultStyles)(g),x=(0,a.assign)({},h,j,S,r);return(0,a.assign)(x,o)}},664:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.addPage=m.drawTable=void 0;var M=H(420),C=H(260),y=H(744),w=H(356),a=H(136),b=H(224);function v(u,r){var S=r.settings,h=S.startY,x=S.margin,_={x:x.left,y:h},D=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),F=h+x.bottom+D;if(S.pageBreak==="avoid"){var O=r.body,R=O.reduce(function(Y,V){return Y+V.height},0);F+=R}var A=new y.DocHandler(u);(S.pageBreak==="always"||S.startY!=null&&F>A.pageSize().height)&&(j(A),_.y=x.top),r.callWillDrawPageHooks(A,_);var U=(0,w.assign)({},_);r.startPageNumber=A.pageNumber(),S.horizontalPageBreak?d(A,r,U,_):(A.applyStyles(A.userStyles),(S.showHead==="firstPage"||S.showHead==="everyPage")&&r.head.forEach(function(Y){return p(A,r,Y,_,r.columns)}),A.applyStyles(A.userStyles),r.body.forEach(function(Y,V){var Z=V===r.body.length-1;c(A,r,Y,Z,U,_,r.columns)}),A.applyStyles(A.userStyles),(S.showFoot==="lastPage"||S.showFoot==="everyPage")&&r.foot.forEach(function(Y){return p(A,r,Y,_,r.columns)})),(0,M.addTableBorder)(A,r,U,_),r.callEndPageHooks(A,_),r.finalY=_.y,u.lastAutoTable=r,u.previousAutoTable=r,u.autoTable&&(u.autoTable.previous=r),A.applyStyles(A.userStyles)}m.drawTable=v;function d(u,r,S,h){var x=(0,b.calculateAllColumnsCanFitInPage)(u,r),_=r.settings;if(_.horizontalPageBreakBehaviour==="afterAllRows")x.forEach(function(R,A){u.applyStyles(u.userStyles),A>0?W(u,r,S,h,R.columns,!0):n(u,r,h,R.columns),t(u,r,S,h,R.columns),l(u,r,h,R.columns)});else for(var D=-1,F=x[0],O=function(){var R=D;if(F){u.applyStyles(u.userStyles);var A=F.columns;D>=0?W(u,r,S,h,A,!0):n(u,r,h,A),R=e(u,r,D+1,h,A),l(u,r,h,A)}var U=R-D;x.slice(1).forEach(function(Y){u.applyStyles(u.userStyles),W(u,r,S,h,Y.columns,!0),e(u,r,D+1,h,Y.columns,U),l(u,r,h,Y.columns)}),D=R};D<r.body.length-1;)O()}function n(u,r,S,h){var x=r.settings;u.applyStyles(u.userStyles),(x.showHead==="firstPage"||x.showHead==="everyPage")&&r.head.forEach(function(_){return p(u,r,_,S,h)})}function t(u,r,S,h,x){u.applyStyles(u.userStyles),r.body.forEach(function(_,D){var F=D===r.body.length-1;c(u,r,_,F,S,h,x)})}function e(u,r,S,h,x,_){u.applyStyles(u.userStyles),_=_??r.body.length;var D=Math.min(S+_,r.body.length),F=-1;return r.body.slice(S,D).forEach(function(O,R){var A=S+R===r.body.length-1,U=P(u,r,A,h);O.canEntireRowFit(U,x)&&(p(u,r,O,h,x),F=S+R)}),F}function l(u,r,S,h){var x=r.settings;u.applyStyles(u.userStyles),(x.showFoot==="lastPage"||x.showFoot==="everyPage")&&r.foot.forEach(function(_){return p(u,r,_,S,h)})}function s(u,r,S){var h=S.getLineHeight(u.styles.fontSize),x=u.padding("vertical"),_=Math.floor((r-x)/h);return Math.max(0,_)}function i(u,r,S,h){var x={};u.spansMultiplePages=!0,u.height=0;for(var _=0,D=0,F=S.columns;D<F.length;D++){var O=F[D],R=u.cells[O.index];if(R){Array.isArray(R.text)||(R.text=[R.text]);var A=new C.Cell(R.raw,R.styles,R.section);A=(0,w.assign)(A,R),A.text=[];var U=s(R,r,h);R.text.length>U&&(A.text=R.text.splice(U,R.text.length));var Y=h.scaleFactor(),V=h.getLineHeightFactor();R.contentHeight=R.getContentHeight(Y,V),R.contentHeight>=r&&(R.contentHeight=r,A.styles.minCellHeight-=r),R.contentHeight>u.height&&(u.height=R.contentHeight),A.contentHeight=A.getContentHeight(Y,V),A.contentHeight>_&&(_=A.contentHeight),x[O.index]=A}}var Z=new C.Row(u.raw,-1,u.section,x,!0);Z.height=_;for(var ot=0,ut=S.columns;ot<ut.length;ot++){var O=ut[ot],A=Z.cells[O.index];A&&(A.height=Z.height);var R=u.cells[O.index];R&&(R.height=u.height)}return Z}function f(u,r,S,h){var x=u.pageSize().height,_=h.settings.margin,D=_.top+_.bottom,F=x-D;r.section==="body"&&(F-=h.getHeadHeight(h.columns)+h.getFootHeight(h.columns));var O=r.getMinimumRowHeight(h.columns,u),R=O<S;if(O>F)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!R)return!1;var A=r.hasRowSpan(h.columns),U=r.getMaxCellHeight(h.columns)>F;return U?(A&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||h.settings.rowPageBreak==="avoid")}function c(u,r,S,h,x,_,D){var F=P(u,r,h,_);if(S.canEntireRowFit(F,D))p(u,r,S,_,D);else if(f(u,S,F,r)){var O=i(S,F,r,u);p(u,r,S,_,D),W(u,r,x,_,D),c(u,r,O,h,x,_,D)}else W(u,r,x,_,D),c(u,r,S,h,x,_,D)}function p(u,r,S,h,x){h.x=r.settings.margin.left;for(var _=0,D=x;_<D.length;_++){var F=D[_],O=S.cells[F.index];if(!O){h.x+=F.width;continue}u.applyStyles(O.styles),O.x=h.x,O.y=h.y;var R=r.callCellHooks(u,r.hooks.willDrawCell,O,S,F,h);if(R===!1){h.x+=F.width;continue}g(u,O,h);var A=O.getTextPos();(0,a.default)(O.text,A.x,A.y,{halign:O.styles.halign,valign:O.styles.valign,maxWidth:Math.ceil(O.width-O.padding("left")-O.padding("right"))},u.getDocument()),r.callCellHooks(u,r.hooks.didDrawCell,O,S,F,h),h.x+=F.width}h.y+=S.height}function g(u,r,S){var h=r.styles;if(u.getDocument().setFillColor(u.getDocument().getFillColor()),typeof h.lineWidth=="number"){var x=(0,M.getFillStyle)(h.lineWidth,h.fillColor);x&&u.rect(r.x,S.y,r.width,r.height,x)}else typeof h.lineWidth=="object"&&(h.fillColor&&u.rect(r.x,S.y,r.width,r.height,"F"),o(u,r,S,h.lineWidth))}function o(u,r,S,h){var x,_,D,F;h.top&&(x=S.x,_=S.y,D=S.x+r.width,F=S.y,h.right&&(D+=.5*h.right),h.left&&(x-=.5*h.left),O(h.top,x,_,D,F)),h.bottom&&(x=S.x,_=S.y+r.height,D=S.x+r.width,F=S.y+r.height,h.right&&(D+=.5*h.right),h.left&&(x-=.5*h.left),O(h.bottom,x,_,D,F)),h.left&&(x=S.x,_=S.y,D=S.x,F=S.y+r.height,h.top&&(_-=.5*h.top),h.bottom&&(F+=.5*h.bottom),O(h.left,x,_,D,F)),h.right&&(x=S.x+r.width,_=S.y,D=S.x+r.width,F=S.y+r.height,h.top&&(_-=.5*h.top),h.bottom&&(F+=.5*h.bottom),O(h.right,x,_,D,F));function O(R,A,U,Y,V){u.getDocument().setLineWidth(R),u.getDocument().line(A,U,Y,V,"S")}}function P(u,r,S,h){var x=r.settings.margin.bottom,_=r.settings.showFoot;return(_==="everyPage"||_==="lastPage"&&S)&&(x+=r.getFootHeight(r.columns)),u.pageSize().height-h.y-x}function W(u,r,S,h,x,_){x===void 0&&(x=[]),_===void 0&&(_=!1),u.applyStyles(u.userStyles),r.settings.showFoot==="everyPage"&&!_&&r.foot.forEach(function(F){return p(u,r,F,h,x)}),r.callEndPageHooks(u,h);var D=r.settings.margin;(0,M.addTableBorder)(u,r,S,h),j(u),r.pageNumber++,r.pageCount++,h.x=D.left,h.y=D.top,S.y=D.top,r.callWillDrawPageHooks(u,h),r.settings.showHead==="everyPage"&&(r.head.forEach(function(F){return p(u,r,F,h,x)}),u.applyStyles(u.userStyles))}m.addPage=W;function j(u){var r=u.pageNumber();u.setPage(r+1);var S=u.pageNumber();return S===r?(u.addPage(),!0):!1}},224:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.calculateAllColumnsCanFitInPage=void 0;var M=H(420);function C(w,a,b){var v;b===void 0&&(b={});var d=(0,M.getPageAvailableWidth)(w,a),n=new Map,t=[],e=[],l=[];a.settings.horizontalPageBreakRepeat,Array.isArray(a.settings.horizontalPageBreakRepeat)?l=a.settings.horizontalPageBreakRepeat:(typeof a.settings.horizontalPageBreakRepeat=="string"||typeof a.settings.horizontalPageBreakRepeat=="number")&&(l=[a.settings.horizontalPageBreakRepeat]),l.forEach(function(c){var p=a.columns.find(function(g){return g.dataKey===c||g.index===c});p&&!n.has(p.index)&&(n.set(p.index,!0),t.push(p.index),e.push(a.columns[p.index]),d-=p.wrappedWidth)});for(var s=!0,i=(v=b?.start)!==null&&v!==void 0?v:0;i<a.columns.length;){if(n.has(i)){i++;continue}var f=a.columns[i].wrappedWidth;if(s||d>=f)s=!1,t.push(i),e.push(a.columns[i]),d-=f;else break;i++}return{colIndexes:t,columns:e,lastIndex:i-1}}function y(w,a){for(var b=[],v=0;v<a.columns.length;v++){var d=C(w,a,{start:v});d.columns.length&&(b.push(d),v=d.lastIndex)}return b}m.calculateAllColumnsCanFitInPage=y},324:function(T,m,H){Object.defineProperty(m,"__esModule",{value:!0}),m.ellipsize=m.resizeColumns=m.calculateWidths=void 0;var M=H(420);function C(t,e){y(t,e);var l=[],s=0;e.columns.forEach(function(f){var c=f.getMaxCustomCellWidth(e);c?f.width=c:(f.width=f.wrappedWidth,l.push(f)),s+=f.width});var i=e.getWidth(t.pageSize().width)-s;i&&(i=w(l,i,function(f){return Math.max(f.minReadableWidth,f.minWidth)})),i&&(i=w(l,i,function(f){return f.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),b(e),v(e,t),a(e)}m.calculateWidths=C;function y(t,e){var l=t.scaleFactor(),s=e.settings.horizontalPageBreak,i=(0,M.getPageAvailableWidth)(t,e);e.allRows().forEach(function(f){for(var c=0,p=e.columns;c<p.length;c++){var g=p[c],o=f.cells[g.index];if(o){var P=e.hooks.didParseCell;e.callCellHooks(t,P,o,f,g,null);var W=o.padding("horizontal");o.contentWidth=(0,M.getStringWidth)(o.text,o.styles,t)+W;var j=(0,M.getStringWidth)(o.text.join(" ").split(/[^\S\u00A0]+/),o.styles,t);if(o.minReadableWidth=j+o.padding("horizontal"),typeof o.styles.cellWidth=="number")o.minWidth=o.styles.cellWidth,o.wrappedWidth=o.styles.cellWidth;else if(o.styles.cellWidth==="wrap"||s===!0)o.contentWidth>i?(o.minWidth=i,o.wrappedWidth=i):(o.minWidth=o.contentWidth,o.wrappedWidth=o.contentWidth);else{var u=10/l;o.minWidth=o.styles.minCellWidth||u,o.wrappedWidth=o.contentWidth,o.minWidth>o.wrappedWidth&&(o.wrappedWidth=o.minWidth)}}}}),e.allRows().forEach(function(f){for(var c=0,p=e.columns;c<p.length;c++){var g=p[c],o=f.cells[g.index];if(o&&o.colSpan===1)g.wrappedWidth=Math.max(g.wrappedWidth,o.wrappedWidth),g.minWidth=Math.max(g.minWidth,o.minWidth),g.minReadableWidth=Math.max(g.minReadableWidth,o.minReadableWidth);else{var P=e.styles.columnStyles[g.dataKey]||e.styles.columnStyles[g.index]||{},W=P.cellWidth||P.minCellWidth;W&&typeof W=="number"&&(g.minWidth=W,g.wrappedWidth=W)}o&&(o.colSpan>1&&!g.minWidth&&(g.minWidth=o.minWidth),o.colSpan>1&&!g.wrappedWidth&&(g.wrappedWidth=o.minWidth))}})}function w(t,e,l){for(var s=e,i=t.reduce(function(u,r){return u+r.wrappedWidth},0),f=0;f<t.length;f++){var c=t[f],p=c.wrappedWidth/i,g=s*p,o=c.width+g,P=l(c),W=o<P?P:o;e-=W-c.width,c.width=W}if(e=Math.round(e*1e10)/1e10,e){var j=t.filter(function(u){return e<0?u.width>l(u):!0});j.length&&(e=w(j,e,l))}return e}m.resizeColumns=w;function a(t){for(var e={},l=1,s=t.allRows(),i=0;i<s.length;i++)for(var f=s[i],c=0,p=t.columns;c<p.length;c++){var g=p[c],o=e[g.index];if(l>1)l--,delete f.cells[g.index];else if(o)o.cell.height+=f.height,l=o.cell.colSpan,delete f.cells[g.index],o.left--,o.left<=1&&delete e[g.index];else{var P=f.cells[g.index];if(!P)continue;if(P.height=f.height,P.rowSpan>1){var W=s.length-i,j=P.rowSpan>W?W:P.rowSpan;e[g.index]={cell:P,left:j,row:f}}}}}function b(t){for(var e=t.allRows(),l=0;l<e.length;l++)for(var s=e[l],i=null,f=0,c=0,p=0;p<t.columns.length;p++){var g=t.columns[p];if(c-=1,c>1&&t.columns[p+1])f+=g.width,delete s.cells[g.index];else if(i){var o=i;delete s.cells[g.index],i=null,o.width=g.width+f}else{var o=s.cells[g.index];if(!o)continue;if(c=o.colSpan,f=0,o.colSpan>1){i=o,f+=g.width;continue}o.width=g.width+f}}}function v(t,e){for(var l={count:0,height:0},s=0,i=t.allRows();s<i.length;s++){for(var f=i[s],c=0,p=t.columns;c<p.length;c++){var g=p[c],o=f.cells[g.index];if(o){e.applyStyles(o.styles,!0);var P=o.width-o.padding("horizontal");if(o.styles.overflow==="linebreak")o.text=e.splitTextToSize(o.text,P+1/e.scaleFactor(),{fontSize:o.styles.fontSize});else if(o.styles.overflow==="ellipsize")o.text=d(o.text,P,o.styles,e,"...");else if(o.styles.overflow==="hidden")o.text=d(o.text,P,o.styles,e,"");else if(typeof o.styles.overflow=="function"){var W=o.styles.overflow(o.text,P);typeof W=="string"?o.text=[W]:o.text=W}o.contentHeight=o.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var j=o.contentHeight/o.rowSpan;o.rowSpan>1&&l.count*l.height<j*o.rowSpan?l={height:j,count:o.rowSpan}:l&&l.count>0&&l.height>j&&(j=l.height),j>f.height&&(f.height=j)}}l.count--}}function d(t,e,l,s,i){return t.map(function(f){return n(f,e,l,s,i)})}m.ellipsize=d;function n(t,e,l,s,i){var f=1e4*s.scaleFactor();if(e=Math.ceil(e*f)/f,e>=(0,M.getStringWidth)(t,l,s))return t;for(;e<(0,M.getStringWidth)(t+i,l,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}},964:function(T){if(typeof I>"u"){var m=new Error("Cannot find module 'undefined'");throw m.code="MODULE_NOT_FOUND",m}T.exports=I}},k={};function z(T){var m=k[T];if(m!==void 0)return m.exports;var H=k[T]={exports:{}};return E[T].call(H.exports,H,H.exports,z),H.exports}var B={};return function(){var T=B;Object.defineProperty(T,"__esModule",{value:!0}),T.Cell=T.Column=T.Row=T.Table=T.CellHookData=T.__drawTable=T.__createTable=T.applyPlugin=void 0;var m=z(340),H=z(776),M=z(664),C=z(972),y=z(260);Object.defineProperty(T,"Table",{enumerable:!0,get:function(){return y.Table}});var w=z(172);Object.defineProperty(T,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var a=z(260);Object.defineProperty(T,"Cell",{enumerable:!0,get:function(){return a.Cell}}),Object.defineProperty(T,"Column",{enumerable:!0,get:function(){return a.Column}}),Object.defineProperty(T,"Row",{enumerable:!0,get:function(){return a.Row}});function b(e){(0,m.default)(e)}T.applyPlugin=b;function v(e,l){var s=(0,H.parseInput)(e,l),i=(0,C.createTable)(e,s);(0,M.drawTable)(e,i)}function d(e,l){var s=(0,H.parseInput)(e,l);return(0,C.createTable)(e,s)}T.__createTable=d;function n(e,l){(0,M.drawTable)(e,l)}T.__drawTable=n;try{var t=z(964);t.jsPDF&&(t=t.jsPDF),b(t)}catch{}T.default=v}(),B}()})});lt();var zt=It(Et());var at=class I{constructor(){}exportToPDF(E,k,z,B){let T=new Ot;T.text(z,10,10);let m=k.map(M=>M.titulo),H=E.map(M=>k.map(C=>M[C.campo]||""));console.log("Encabezados:",m),console.log("Cuerpo de la tabla:",H),(0,zt.default)(T,{head:[m],body:H,startY:20}),T.save(`${B}.pdf`)}static \u0275fac=function(k){return new(k||I)};static \u0275prov=ht({token:I,factory:I.\u0275fac,providedIn:"root"})};var Ut=()=>({"min-width":"50rem","max-width":"100%"});function Yt(I,E){if(I&1){let k=rt();L(0,"div")(1,"input",11),X("change",function(){let B=et(k).$implicit,T=tt(2);return it(T.toggleSeleccionColumna(B))}),N(),L(2,"label"),$(3),N()()}if(I&2){let k=E.$implicit;K(),q("checked",k.seleccionada),K(2),J(k.titulo)}}function $t(I,E){if(I&1){let k=rt();L(0,"div",8)(1,"h4"),$(2,"Selecciona las columnas a exportar:"),N(),nt(3,Yt,4,2,"div",9),L(4,"button",10),X("click",function(){et(k);let B=tt();return it(B.exportarHistoriaClinica())}),N()()}if(I&2){let k=tt();K(3),q("ngForOf",k.columnasDisponibles)}}function Kt(I,E){I&1&&(L(0,"tr")(1,"th",12),$(2,"ID Consulta"),N(),L(3,"th",13),$(4,"Fecha Consulta"),N(),L(5,"th",14),$(6,"Motivo Consulta"),N(),L(7,"th",13),$(8,"Diagn\xF3stico"),N(),L(9,"th",13),$(10,"Nota"),N(),L(11,"th",15),$(12,"Acciones"),N()())}function Gt(I,E){if(I&1){let k=rt();L(0,"tr")(1,"td"),$(2),N(),L(3,"td"),$(4),N(),L(5,"td"),$(6),N(),L(7,"td"),$(8),N(),L(9,"td"),$(10),N(),L(11,"td")(12,"button",16),X("click",function(){let B=et(k).$implicit,T=tt();return it(T.irATratamiento(B.id))}),N()()()}if(I&2){let k=E.$implicit;K(2),J(k.id),K(2),J(k.fechaConsulta),K(2),J(k.motivoConsulta),K(2),J(k.diagnostico),K(2),J(k.nota)}}var ft=class I{constructor(E,k,z,B,T,m,H,M){this.router=E;this.route=k;this.aseguradoService=z;this.consultaService=B;this.tratamientoService=T;this.bitacoraService=m;this.authService=H;this.pdfExportService=M}asegurado=null;mostrarSeleccionColumnas=!1;columnasDisponibles=[{campo:"id",titulo:"ID Consulta",seleccionada:!0},{campo:"fechaConsulta",titulo:"Fecha Consulta",seleccionada:!0},{campo:"motivoConsulta",titulo:"Motivo Consulta",seleccionada:!0},{campo:"diagnostico",titulo:"Diagn\xF3stico",seleccionada:!0},{campo:"nota",titulo:"Nota",seleccionada:!0}];consultas=[];ngOnInit(){this.route.paramMap.subscribe(E=>{let k=Number(E.get("aseguradoId"));k&&this.obtenerAsegurado(k)})}obtenerAsegurado(E){this.aseguradoService.getAseguradoById(E).subscribe(k=>{this.asegurado=k,k.historiaClinica&&k.historiaClinica.id&&this.obtenerConsultas(k.historiaClinica.id)},k=>{console.error("Error al obtener el asegurado:",k)})}obtenerConsultas(E){this.consultaService.getConsultasPorHistoriaClinicaId(E).subscribe(k=>{this.consultas=k,this.verificarTratamientos()},k=>{console.error("Error al obtener las consultas:",k)})}verificarTratamientos(){this.consultas.forEach(E=>{E.id!==void 0?this.tratamientoService.getTratamientoByConsultaId(E.id).subscribe(k=>{E.tieneTratamiento=!!k},k=>{E.tieneTratamiento=!1}):E.tieneTratamiento=!1})}registrarBitacora(E,k,z){this.bitacoraService.getUserIP().subscribe({next:B=>{let T=new Date,m=`${T.getFullYear()}-${(T.getMonth()+1).toString().padStart(2,"0")}-${T.getDate().toString().padStart(2,"0")}`,H=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}:${T.getSeconds().toString().padStart(2,"0")}`,M={correo:this.authService.getAuthenticatedUserEmail()||"",fecha:m,hora:H,ip:B.ip,accion:E,detalle:k};this.bitacoraService.createBitacora(M).subscribe({next:()=>{console.log("Registro de bit\xE1cora exitoso"),z()},error:C=>{console.error("Error al registrar en bit\xE1cora",C),z()}})},error:B=>{console.error("Error al obtener IP",B),z()}})}irATratamiento(E){if(this.asegurado){let k=`${this.asegurado.usuario.nombre} ${this.asegurado.usuario.apellido}`,z=`Listar tratamiento de la consulta (${E}) del paciente (${k})`;this.registrarBitacora("Listar tratamiento",z,()=>{this.router.navigate(["/tratamiento",E])})}else console.error("El asegurado no est\xE1 disponible."),this.router.navigate(["/tratamiento",E])}toggleSeleccionColumna(E){E.seleccionada=!E.seleccionada}exportarHistoriaClinica(){let E=this.columnasDisponibles.filter(z=>z.seleccionada),k=this.consultas.map(z=>{let B={};return E.forEach(T=>{B[T.campo]=z[T.campo]||""}),B});this.pdfExportService.exportToPDF(k,E,"Historia Cl\xEDnica","historia_clinica")}static \u0275fac=function(k){return new(k||I)(G(St),G(bt),G(At),G(Mt),G(Rt),G(wt),G(Ct),G(at))};static \u0275cmp=gt({type:I,selectors:[["app-historia-clinica"]],standalone:!0,features:[ct],decls:10,vars:4,consts:[[1,"column-selector-container"],["pButton","","type","button","label","Seleccionar Columnas","icon","pi pi-cog",3,"click"],["class","column-selector",4,"ngIf"],[1,"historia-clinica-container"],["pButton","","type","button","label","Exportar PDF","icon","pi pi-file-pdf",3,"click"],["dataKey","id",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"column-selector"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Exportar Seleccionadas","icon","pi pi-file-pdf",3,"click"],["type","checkbox",3,"change","checked"],[2,"width","15%"],[2,"width","20%"],[2,"width","25%"],[2,"width","10%"],["pButton","","type","button","icon","pi pi-arrow-right",1,"p-button-rounded","p-button-text","p-button-info",3,"click"]],template:function(k,z){k&1&&(L(0,"div",0)(1,"button",1),X("click",function(){return z.mostrarSeleccionColumnas=!z.mostrarSeleccionColumnas}),N()(),nt(2,$t,5,1,"div",2),L(3,"div",3)(4,"h3"),$(5,"Historia Cl\xEDnica de Usuario"),N(),L(6,"button",4),X("click",function(){return z.exportarHistoriaClinica()}),N(),L(7,"p-table",5),nt(8,Kt,13,0,"ng-template",6)(9,Gt,13,5,"ng-template",7),N()()),k&2&&(K(2),q("ngIf",z.mostrarSeleccionColumnas),K(5),q("value",z.consultas)("tableStyle",pt(3,Ut)))},dependencies:[yt,vt,mt,Ft,kt,_t,Pt,Tt,xt,Ht,Wt,Dt],styles:[".historia-clinica-container[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:1.5rem;background-color:#f9f9f9;border-radius:12px;box-shadow:0 4px 8px #0000001a}.historia-clinica-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#3f51b5;text-align:center;margin-bottom:1.5rem;border-bottom:2px solid #ddd;padding-bottom:.5rem}.p-table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;font-size:.95rem;box-shadow:0 4px 8px #0000001a}.p-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:12px;text-align:center;font-weight:700}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0f7fa}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:center;vertical-align:middle}.p-button-info[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important;width:2.5rem;height:2.5rem;border-radius:50%;transition:background-color .3s ease}.p-button-info[_ngcontent-%COMP%]:hover{background-color:#2c3e9e!important}.column-selector-container[_ngcontent-%COMP%]{margin-bottom:1rem}.column-selector[_ngcontent-%COMP%]{background:#f9f9f9;padding:1rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.column-selector[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.5rem}.column-selector[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:.25rem}.column-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}"]})};export{ft as default};
