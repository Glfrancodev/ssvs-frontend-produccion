import{a as L}from"./chunk-QNGTS3XO.js";import{a as N,b as j}from"./chunk-O3KWYK2S.js";import{B as A,d as m,f as T,l as F,n as k,u as W}from"./chunk-RDO4C5ZH.js";import"./chunk-4YRY4IP2.js";import{b as O,d as D,e as I,j as R}from"./chunk-24563CTF.js";import"./chunk-EALBQTKK.js";import{p as E,q as w}from"./chunk-5DWL5JJZ.js";import{$a as _,Ab as n,Bb as l,Eb as p,Fb as g,Gb as f,Hb as x,Ib as v,Jb as y,Na as a,Oa as s,Sb as B,Tb as P,_ as h,cb as M,hb as e,ib as t,jb as C,qb as S}from"./chunk-3RWLLOHT.js";var H=()=>({"min-width":"50rem","max-width":"100%"});function V(d,o){d&1&&(e(0,"tr")(1,"th"),n(2,"ID"),t(),e(3,"th"),n(4,"Correo"),t(),e(5,"th"),n(6,"Fecha"),t(),e(7,"th"),n(8,"Hora"),t(),e(9,"th"),n(10,"IP"),t(),e(11,"th"),n(12,"Acci\xF3n"),t(),e(13,"th"),n(14,"Detalle"),t()())}function q(d,o){if(d&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),B(7,"date"),t(),e(8,"td"),n(9),t(),e(10,"td"),n(11),t(),e(12,"td"),n(13),t(),e(14,"td"),n(15),t()()),d&2){let i=o.$implicit;a(2),l(i.id),a(2),l(i.correo),a(2),l(P(7,7,i.fecha,"dd/MM/yyyy")),a(3),l(i.hora),a(2),l(i.ip),a(2),l(i.accion),a(2),l(i.detalle)}}var u=class d{constructor(o,i){this.bitacoraService=o;this.messageService=i}bitacoras=[];selectedRange={start:new Date,end:new Date};ngOnInit(){this.getAllBitacoras()}getAllBitacoras(){this.bitacoraService.getBitacoras().subscribe(o=>{this.bitacoras=o})}filterByDateRange(){this.bitacoraService.getBitacorasByDateRange(this.selectedRange.start,this.selectedRange.end).subscribe(o=>{this.bitacoras=o,this.messageService.add({severity:"info",summary:"Filtrado",detail:"Registros filtrados por rango de fechas"})})}static \u0275fac=function(i){return new(i||d)(s(L),s(m))};static \u0275cmp=h({type:d,selectors:[["app-bitacora"]],standalone:!0,features:[x([m]),v],decls:15,vars:5,consts:[[1,"bitacora-container"],[1,"filter-date-range"],["for","start-date"],["type","date","id","start-date",3,"ngModelChange","ngModel"],["for","end-date"],["type","date","id","end-date",3,"ngModelChange","ngModel"],["pButton","","label","Filtrar","icon","pi pi-filter",3,"click"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"]],template:function(i,r){i&1&&(C(0,"p-toast"),e(1,"div",0)(2,"h3"),n(3,"Registro de Bit\xE1cora"),t(),e(4,"div",1)(5,"label",2),n(6,"Fecha Inicio:"),t(),e(7,"input",3),f("ngModelChange",function(c){return g(r.selectedRange.start,c)||(r.selectedRange.start=c),c}),t(),e(8,"label",4),n(9,"Fecha Fin:"),t(),e(10,"input",5),f("ngModelChange",function(c){return g(r.selectedRange.end,c)||(r.selectedRange.end=c),c}),t(),e(11,"button",6),S("click",function(){return r.filterByDateRange()}),t()(),e(12,"p-table",7),_(13,V,15,0,"ng-template",8)(14,q,16,10,"ng-template",9),t()()),i&2&&(a(7),p("ngModel",r.selectedRange.start),a(3),p("ngModel",r.selectedRange.end),a(2),M("value",r.bitacoras)("tableStyle",y(4,H)))},dependencies:[w,E,A,W,T,R,O,D,I,k,F,j,N],styles:[".bitacora-container[_ngcontent-%COMP%]{max-width:100%;margin:auto;overflow-x:auto}h3[_ngcontent-%COMP%]{text-align:center;color:#3f51b5;font-weight:700}.filter-date-range[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;align-items:center}.filter-date-range[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.filter-date-range[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid #ddd}.p-table[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000026}.p-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;font-weight:700;text-align:center;padding:12px}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e3f2fd}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:center}"]})};export{u as default};
