import{a as jt,b as Et,c as lt}from"./chunk-HWUH7ABB.js";import"./chunk-JCJIXIGU.js";import{a as Rt}from"./chunk-UJ32YO6L.js";import{a as Mt}from"./chunk-MZW6JDJM.js";import{a as At}from"./chunk-64ACLIH3.js";import{a as Dt,b as Wt}from"./chunk-37FNDG3E.js";import{B as Ft,f as Ht,k as _t,l as xt,n as Tt,u as kt}from"./chunk-LJKAMAZ5.js";import{j as Pt}from"./chunk-W5NNSEVP.js";import"./chunk-4YRY4IP2.js";import{a as wt}from"./chunk-S2R25WKX.js";import{h as bt,j as St,o as Ct}from"./chunk-V6WZIOIM.js";import{l as vt,m as mt,r as yt}from"./chunk-2HP4KZBQ.js";import{$a as q,Fb as ct,Gb as pt,Ka as K,La as V,N as ht,X as gt,Ya as nt,ea as et,eb as L,fa as it,fb as N,kb as rt,nb as X,ob as tt,xb as $,yb as J}from"./chunk-TOSOZOFE.js";import{e as zt,g as It,h as dt}from"./chunk-ODN5LVDJ.js";var Ot=zt((Q,st)=>{"use strict";(function(j,T){if(typeof Q=="object"&&typeof st=="object")st.exports=T(function(){try{return lt(),dt(Et)}catch{}}());else if(typeof define=="function"&&define.amd)define(["jspdf"],T);else{var B=T(typeof Q=="object"?function(){try{return lt(),dt(Et)}catch{}}():j.jspdf);for(var z in B)(typeof Q=="object"?Q:j)[z]=B[z]}})(typeof globalThis<"u"?globalThis:typeof Q<"u"?Q:typeof window<"u"?window:typeof self<"u"?self:global,function(I){return function(){"use strict";var j={172:function(D,v){var H=this&&this.__extends||function(){var y=function(w,a){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&(b[d]=m[d])},y(w,a)};return function(w,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");y(w,a);function b(){this.constructor=w}w.prototype=a===null?Object.create(a):(b.prototype=a.prototype,new b)}}();Object.defineProperty(v,"__esModule",{value:!0}),v.CellHookData=v.HookData=void 0;var M=function(){function y(w,a,b){this.table=a,this.pageNumber=a.pageNumber,this.pageCount=this.pageNumber,this.settings=a.settings,this.cursor=b,this.doc=w.getDocument()}return y}();v.HookData=M;var C=function(y){H(w,y);function w(a,b,m,d,n,t){var e=y.call(this,a,b,t)||this;return e.cell=m,e.row=d,e.column=n,e.section=d.section,e}return w}(M);v.CellHookData=C},340:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0});var M=H(4),C=H(136),y=H(744),w=H(776),a=H(664),b=H(972);function m(d){d.API.autoTable=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e;n.length===1?e=n[0]:(console.error("Use of deprecated autoTable initiation"),e=n[2]||{},e.columns=n[0],e.body=n[1]);var l=(0,w.parseInput)(this,e),s=(0,b.createTable)(this,l);return(0,a.drawTable)(this,s),this},d.API.lastAutoTable=!1,d.API.previousAutoTable=!1,d.API.autoTable.previous=!1,d.API.autoTableText=function(n,t,e,l){(0,C.default)(n,t,e,l,this)},d.API.autoTableSetDefaults=function(n){return y.DocHandler.setDefaults(n,this),this},d.autoTableSetDefaults=function(n,t){y.DocHandler.setDefaults(n,t)},d.API.autoTableHtmlToJson=function(n,t){var e;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var l=new y.DocHandler(this),s=(0,M.parseHtml)(l,n,window,t,!1),i=s.head,f=s.body,c=((e=i[0])===null||e===void 0?void 0:e.map(function(p){return p.content}))||[];return{columns:c,rows:f,data:f}},d.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var n=this.lastAutoTable;return n&&n.finalY?n.finalY:0},d.API.autoTableAddPageContent=function(n){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),d.API.autoTable.globalDefaults||(d.API.autoTable.globalDefaults={}),d.API.autoTable.globalDefaults.addPageContent=n,this},d.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}v.default=m},136:function(D,v){Object.defineProperty(v,"__esModule",{value:!0});function H(M,C,y,w,a){w=w||{};var b=1.15,m=a.internal.scaleFactor,d=a.internal.getFontSize()/m,n=a.getLineHeightFactor?a.getLineHeightFactor():b,t=d*n,e=/\r\n|\r|\n/g,l="",s=1;if((w.valign==="middle"||w.valign==="bottom"||w.halign==="center"||w.halign==="right")&&(l=typeof M=="string"?M.split(e):M,s=l.length||1),y+=d*(2-b),w.valign==="middle"?y-=s/2*t:w.valign==="bottom"&&(y-=s*t),w.halign==="center"||w.halign==="right"){var i=d;if(w.halign==="center"&&(i*=.5),l&&s>=1){for(var f=0;f<l.length;f++)a.text(l[f],C-a.getStringUnitWidth(l[f])*i,y),y+=t;return a}C-=a.getStringUnitWidth(M)*i}return w.halign==="justify"?a.text(M,C,y,{maxWidth:w.maxWidth||100,align:"justify"}):a.text(M,C,y),a}v.default=H},420:function(D,v){Object.defineProperty(v,"__esModule",{value:!0}),v.getPageAvailableWidth=v.parseSpacing=v.getFillStyle=v.addTableBorder=v.getStringWidth=void 0;function H(a,b,m){m.applyStyles(b,!0);var d=Array.isArray(a)?a:[a],n=d.map(function(t){return m.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0);return n}v.getStringWidth=H;function M(a,b,m,d){var n=b.settings.tableLineWidth,t=b.settings.tableLineColor;a.applyStyles({lineWidth:n,lineColor:t});var e=C(n,!1);e&&a.rect(m.x,m.y,b.getWidth(a.pageSize().width),d.y-m.y,e)}v.addTableBorder=M;function C(a,b){var m=a>0,d=b||b===0;return m&&d?"DF":m?"S":d?"F":null}v.getFillStyle=C;function y(a,b){var m,d,n,t;if(a=a||b,Array.isArray(a)){if(a.length>=4)return{top:a[0],right:a[1],bottom:a[2],left:a[3]};if(a.length===3)return{top:a[0],right:a[1],bottom:a[2],left:a[1]};if(a.length===2)return{top:a[0],right:a[1],bottom:a[0],left:a[1]};a.length===1?a=a[0]:a=b}return typeof a=="object"?(typeof a.vertical=="number"&&(a.top=a.vertical,a.bottom=a.vertical),typeof a.horizontal=="number"&&(a.right=a.horizontal,a.left=a.horizontal),{left:(m=a.left)!==null&&m!==void 0?m:b,top:(d=a.top)!==null&&d!==void 0?d:b,right:(n=a.right)!==null&&n!==void 0?n:b,bottom:(t=a.bottom)!==null&&t!==void 0?t:b}):(typeof a!="number"&&(a=b),{top:a,right:a,bottom:a,left:a})}v.parseSpacing=y;function w(a,b){var m=y(b.settings.margin,0);return a.pageSize().width-(m.left+m.right)}v.getPageAvailableWidth=w},796:function(D,v){var H=this&&this.__extends||function(){var w=function(a,b){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(m[n]=d[n])},w(a,b)};return function(a,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");w(a,b);function m(){this.constructor=a}a.prototype=b===null?Object.create(b):(m.prototype=b.prototype,new m)}}();Object.defineProperty(v,"__esModule",{value:!0}),v.getTheme=v.defaultStyles=v.HtmlRowInput=void 0;var M=function(w){H(a,w);function a(b){var m=w.call(this)||this;return m._element=b,m}return a}(Array);v.HtmlRowInput=M;function C(w){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/w,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}v.defaultStyles=C;function y(w){var a={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return a[w]}v.getTheme=y},903:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.parseCss=void 0;var M=H(420);function C(m,d,n,t,e){var l={},s=1.3333333333333333,i=w(d,function(h){return e.getComputedStyle(h).backgroundColor});i!=null&&(l.fillColor=i);var f=w(d,function(h){return e.getComputedStyle(h).color});f!=null&&(l.textColor=f);var c=b(t,n);c&&(l.cellPadding=c);var p="borderTopColor",g=s*n,o=t.borderTopWidth;if(t.borderBottomWidth===o&&t.borderRightWidth===o&&t.borderLeftWidth===o){var P=(parseFloat(o)||0)/g;P&&(l.lineWidth=P)}else l.lineWidth={top:(parseFloat(t.borderTopWidth)||0)/g,right:(parseFloat(t.borderRightWidth)||0)/g,bottom:(parseFloat(t.borderBottomWidth)||0)/g,left:(parseFloat(t.borderLeftWidth)||0)/g},l.lineWidth.top||(l.lineWidth.right?p="borderRightColor":l.lineWidth.bottom?p="borderBottomColor":l.lineWidth.left&&(p="borderLeftColor"));var k=w(d,function(h){return e.getComputedStyle(h)[p]});k!=null&&(l.lineColor=k);var O=["left","right","center","justify"];O.indexOf(t.textAlign)!==-1&&(l.halign=t.textAlign),O=["middle","bottom","top"],O.indexOf(t.verticalAlign)!==-1&&(l.valign=t.verticalAlign);var u=parseInt(t.fontSize||"");isNaN(u)||(l.fontSize=u/s);var r=y(t);r&&(l.fontStyle=r);var S=(t.fontFamily||"").toLowerCase();return m.indexOf(S)!==-1&&(l.font=S),l}v.parseCss=C;function y(m){var d="";return(m.fontWeight==="bold"||m.fontWeight==="bolder"||parseInt(m.fontWeight)>=700)&&(d="bold"),(m.fontStyle==="italic"||m.fontStyle==="oblique")&&(d+="italic"),d}function w(m,d){var n=a(m,d);if(!n)return null;var t=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!t||!Array.isArray(t))return null;var e=[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])],l=parseInt(t[4]);return l===0||isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function a(m,d){var n=d(m);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?m.parentElement==null?null:a(m.parentElement,d):n}function b(m,d){var n=[m.paddingTop,m.paddingRight,m.paddingBottom,m.paddingLeft],t=96/(72/d),e=(parseInt(m.lineHeight)-parseInt(m.fontSize))/d/2,l=n.map(function(i){return parseInt(i||"0")/t}),s=(0,M.parseSpacing)(l,0);return e>s.top&&(s.top=e),e>s.bottom&&(s.bottom=e),s}},744:function(D,v){Object.defineProperty(v,"__esModule",{value:!0}),v.DocHandler=void 0;var H={},M=function(){function C(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return C.setDefaults=function(y,w){w===void 0&&(w=null),w?w.__autoTableDocumentDefaults=y:H=y},C.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},C.prototype.applyStyles=function(y,w){var a,b,m;w===void 0&&(w=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var d=this.jsPDFDocument.internal.getFont(),n=d.fontStyle,t=d.fontName;if(y.font&&(t=y.font),y.fontStyle){n=y.fontStyle;var e=this.getFontList()[t];e&&e.indexOf(n)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e[0]),n=e[0])}if(this.jsPDFDocument.setFont(t,n),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!w){var l=C.unifyColor(y.fillColor);l&&(a=this.jsPDFDocument).setFillColor.apply(a,l),l=C.unifyColor(y.textColor),l&&(b=this.jsPDFDocument).setTextColor.apply(b,l),l=C.unifyColor(y.lineColor),l&&(m=this.jsPDFDocument).setDrawColor.apply(m,l),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},C.prototype.splitTextToSize=function(y,w,a){return this.jsPDFDocument.splitTextToSize(y,w,a)},C.prototype.rect=function(y,w,a,b,m){return this.jsPDFDocument.rect(y,w,a,b,m)},C.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},C.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},C.prototype.getDocument=function(){return this.jsPDFDocument},C.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},C.prototype.addPage=function(){return this.jsPDFDocument.addPage()},C.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},C.prototype.getGlobalOptions=function(){return H||{}},C.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},C.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},C.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},C.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},C.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},C.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},C}();v.DocHandler=M},4:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.parseHtml=void 0;var M=H(903),C=H(796);function y(b,m,d,n,t){var e,l;n===void 0&&(n=!1),t===void 0&&(t=!1);var s;typeof m=="string"?s=d.document.querySelector(m):s=m;var i=Object.keys(b.getFontList()),f=b.scaleFactor(),c=[],p=[],g=[];if(!s)return console.error("Html table could not be found with input: ",m),{head:c,body:p,foot:g};for(var o=0;o<s.rows.length;o++){var P=s.rows[o],k=(l=(e=P?.parentElement)===null||e===void 0?void 0:e.tagName)===null||l===void 0?void 0:l.toLowerCase(),O=w(i,f,d,P,n,t);O&&(k==="thead"?c.push(O):k==="tfoot"?g.push(O):p.push(O))}return{head:c,body:p,foot:g}}v.parseHtml=y;function w(b,m,d,n,t,e){for(var l=new C.HtmlRowInput(n),s=0;s<n.cells.length;s++){var i=n.cells[s],f=d.getComputedStyle(i);if(t||f.display!=="none"){var c=void 0;e&&(c=(0,M.parseCss)(b,i,m,f,d)),l.push({rowSpan:i.rowSpan,colSpan:i.colSpan,styles:c,_element:i,content:a(i)})}}var p=d.getComputedStyle(n);if(l.length>0&&(t||p.display!=="none"))return l}function a(b){var m=b.cloneNode(!0);return m.innerHTML=m.innerHTML.replace(/\n/g,"").replace(/ +/g," "),m.innerHTML=m.innerHTML.split(/<br.*?>/).map(function(d){return d.trim()}).join(`
`),m.innerText||m.textContent||""}},776:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.parseInput=void 0;var M=H(4),C=H(356),y=H(420),w=H(744),a=H(792);function b(s,i){var f=new w.DocHandler(s),c=f.getDocumentOptions(),p=f.getGlobalOptions();(0,a.default)(f,p,c,i);var g=(0,C.assign)({},p,c,i),o;typeof window<"u"&&(o=window);var P=m(p,c,i),k=d(p,c,i),O=n(f,g),u=e(f,g,o);return{id:i.tableId,content:u,hooks:k,styles:P,settings:O}}v.parseInput=b;function m(s,i,f){for(var c={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},p=function(k){if(k==="columnStyles"){var O=s[k],u=i[k],r=f[k];c.columnStyles=(0,C.assign)({},O,u,r)}else{var S=[s,i,f],h=S.map(function(x){return x[k]||{}});c[k]=(0,C.assign)({},h[0],h[1],h[2])}},g=0,o=Object.keys(c);g<o.length;g++){var P=o[g];p(P)}return c}function d(s,i,f){for(var c=[s,i,f],p={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},g=0,o=c;g<o.length;g++){var P=o[g];P.didParseCell&&p.didParseCell.push(P.didParseCell),P.willDrawCell&&p.willDrawCell.push(P.willDrawCell),P.didDrawCell&&p.didDrawCell.push(P.didDrawCell),P.willDrawPage&&p.willDrawPage.push(P.willDrawPage),P.didDrawPage&&p.didDrawPage.push(P.didDrawPage)}return p}function n(s,i){var f,c,p,g,o,P,k,O,u,r,S,h,x=(0,y.parseSpacing)(i.margin,40/s.scaleFactor()),_=(f=t(s,i.startY))!==null&&f!==void 0?f:x.top,W;i.showFoot===!0?W="everyPage":i.showFoot===!1?W="never":W=(c=i.showFoot)!==null&&c!==void 0?c:"everyPage";var F;i.showHead===!0?F="everyPage":i.showHead===!1?F="never":F=(p=i.showHead)!==null&&p!==void 0?p:"everyPage";var E=(g=i.useCss)!==null&&g!==void 0?g:!1,R=i.theme||(E?"plain":"striped"),A=!!i.horizontalPageBreak,U=(o=i.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(P=i.includeHiddenHtml)!==null&&P!==void 0?P:!1,useCss:E,theme:R,startY:_,margin:x,pageBreak:(k=i.pageBreak)!==null&&k!==void 0?k:"auto",rowPageBreak:(O=i.rowPageBreak)!==null&&O!==void 0?O:"auto",tableWidth:(u=i.tableWidth)!==null&&u!==void 0?u:"auto",showHead:F,showFoot:W,tableLineWidth:(r=i.tableLineWidth)!==null&&r!==void 0?r:0,tableLineColor:(S=i.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:A,horizontalPageBreakRepeat:U,horizontalPageBreakBehaviour:(h=i.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function t(s,i){var f=s.getLastAutoTable(),c=s.scaleFactor(),p=s.pageNumber(),g=!1;if(f&&f.startPageNumber){var o=f.startPageNumber+f.pageNumber-1;g=o===p}return typeof i=="number"?i:(i==null||i===!1)&&g&&f?.finalY!=null?f.finalY+20/c:null}function e(s,i,f){var c=i.head||[],p=i.body||[],g=i.foot||[];if(i.html){var o=i.includeHiddenHtml;if(f){var P=(0,M.parseHtml)(s,i.html,f,o,i.useCss)||{};c=P.head||c,p=P.body||c,g=P.foot||c}else console.error("Cannot parse html in non browser environment")}var k=i.columns||l(c,p,g);return{columns:k,head:c,body:p,foot:g}}function l(s,i,f){var c=s[0]||i[0]||f[0]||[],p=[];return Object.keys(c).filter(function(g){return g!=="_element"}).forEach(function(g){var o=1,P;Array.isArray(c)?P=c[parseInt(g)]:P=c[g],typeof P=="object"&&!Array.isArray(P)&&(o=P?.colSpan||1);for(var k=0;k<o;k++){var O=void 0;Array.isArray(c)?O=p.length:O=g+(k>0?"_".concat(k):"");var u={dataKey:O};p.push(u)}}),p}},792:function(D,v){Object.defineProperty(v,"__esModule",{value:!0});function H(C,y,w,a){for(var b=function(t){t&&typeof t!="object"&&console.error("The options parameter should be of type object, is: "+typeof t),typeof t.extendWidth<"u"&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof t.margins<"u"&&(typeof t.margin>"u"&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&typeof t.startY!="number"&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(g){C.applyStyles(C.userStyles),t.beforePageContent&&t.beforePageContent(g),C.applyStyles(C.userStyles),t.afterPageContent&&t.afterPageContent(g),C.applyStyles(C.userStyles),t.afterPageAdd&&g.pageNumber>1&&g.afterPageAdd(g),C.applyStyles(C.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(g){t[g]&&console.error('The "'.concat(g,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(g){var o=g[0],P=g[1];t[P]&&(console.error("Use of deprecated option ".concat(P,". Use ").concat(o," instead")),t[o]=t[P])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(g){var o=typeof g=="string"?g:g[0],P=typeof g=="string"?g:g[1];typeof t[o]<"u"&&(typeof t.styles[P]>"u"&&(t.styles[P]=t[o]),console.error("Use of deprecated option: "+o+", use the style "+P+" instead."))});for(var e=0,l=["styles","bodyStyles","headStyles","footStyles"];e<l.length;e++){var s=l[e];M(t[s]||{})}for(var i=t.columnStyles||{},f=0,c=Object.keys(i);f<c.length;f++){var p=c[f];M(i[p]||{})}},m=0,d=[y,w,a];m<d.length;m++){var n=d[m];b(n)}}v.default=H;function M(C){C.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),C.minCellHeight||(C.minCellHeight=C.rowHeight)):C.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),C.cellWidth||(C.cellWidth=C.columnWidth))}},260:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.Column=v.Cell=v.Row=v.Table=void 0;var M=H(796),C=H(172),y=H(420),w=function(){function d(n,t){this.pageNumber=1,this.pageCount=1,this.id=n.id,this.settings=n.settings,this.styles=n.styles,this.hooks=n.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return d.prototype.getHeadHeight=function(n){return this.head.reduce(function(t,e){return t+e.getMaxCellHeight(n)},0)},d.prototype.getFootHeight=function(n){return this.foot.reduce(function(t,e){return t+e.getMaxCellHeight(n)},0)},d.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},d.prototype.callCellHooks=function(n,t,e,l,s,i){for(var f=0,c=t;f<c.length;f++){var p=c[f],g=new C.CellHookData(n,this,e,l,s,i),o=p(g)===!1;if(e.text=Array.isArray(e.text)?e.text:[e.text],o)return!1}return!0},d.prototype.callEndPageHooks=function(n,t){n.applyStyles(n.userStyles);for(var e=0,l=this.hooks.didDrawPage;e<l.length;e++){var s=l[e];s(new C.HookData(n,this,t))}},d.prototype.callWillDrawPageHooks=function(n,t){for(var e=0,l=this.hooks.willDrawPage;e<l.length;e++){var s=l[e];s(new C.HookData(n,this,t))}},d.prototype.getWidth=function(n){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(l,s){return l+s.wrappedWidth},0);return t}else{var e=this.settings.margin;return n-e.left-e.right}},d}();v.Table=w;var a=function(){function d(n,t,e,l,s){s===void 0&&(s=!1),this.height=0,this.raw=n,n instanceof M.HtmlRowInput&&(this.raw=n._element,this.element=n._element),this.index=t,this.section=e,this.cells=l,this.spansMultiplePages=s}return d.prototype.getMaxCellHeight=function(n){var t=this;return n.reduce(function(e,l){var s;return Math.max(e,((s=t.cells[l.index])===null||s===void 0?void 0:s.height)||0)},0)},d.prototype.hasRowSpan=function(n){var t=this;return n.filter(function(e){var l=t.cells[e.index];return l?l.rowSpan>1:!1}).length>0},d.prototype.canEntireRowFit=function(n,t){return this.getMaxCellHeight(t)<=n},d.prototype.getMinimumRowHeight=function(n,t){var e=this;return n.reduce(function(l,s){var i=e.cells[s.index];if(!i)return 0;var f=t.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),p=c+f;return p>l?p:l},0)},d}();v.Row=a;var b=function(){function d(n,t,e){var l,s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=e,this.raw=n;var i=n;n!=null&&typeof n=="object"&&!Array.isArray(n)?(this.rowSpan=n.rowSpan||1,this.colSpan=n.colSpan||1,i=(s=(l=n.content)!==null&&l!==void 0?l:n.title)!==null&&s!==void 0?s:n,n._element&&(this.raw=n._element)):(this.rowSpan=1,this.colSpan=1);var f=i!=null?""+i:"",c=/\r\n|\r|\n/g;this.text=f.split(c)}return d.prototype.getTextPos=function(){var n;if(this.styles.valign==="top")n=this.y+this.padding("top");else if(this.styles.valign==="bottom")n=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");n=this.y+t/2+this.padding("top")}var e;if(this.styles.halign==="right")e=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var l=this.width-this.padding("horizontal");e=this.x+l/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:n}},d.prototype.getContentHeight=function(n,t){t===void 0&&(t=1.15);var e=Array.isArray(this.text)?this.text.length:1,l=this.styles.fontSize/n*t,s=e*l+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},d.prototype.padding=function(n){var t=(0,y.parseSpacing)(this.styles.cellPadding,0);return n==="vertical"?t.top+t.bottom:n==="horizontal"?t.left+t.right:t[n]},d}();v.Cell=b;var m=function(){function d(n,t,e){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=n,this.raw=t,this.index=e}return d.prototype.getMaxCustomCellWidth=function(n){for(var t=0,e=0,l=n.allRows();e<l.length;e++){var s=l[e],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(t=Math.max(t,i.styles.cellWidth))}return t},d}();v.Column=m},356:function(D,v){Object.defineProperty(v,"__esModule",{value:!0}),v.assign=void 0;function H(M,C,y,w,a){if(M==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(M),m=1;m<arguments.length;m++){var d=arguments[m];if(d!=null)for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(b[n]=d[n])}return b}v.assign=H},972:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.createTable=void 0;var M=H(744),C=H(260),y=H(324),w=H(796),a=H(356);function b(s,i){var f=new M.DocHandler(s),c=m(i,f.scaleFactor()),p=new C.Table(i,c);return(0,y.calculateWidths)(f,p),f.applyStyles(f.userStyles),p}v.createTable=b;function m(s,i){var f=s.content,c=e(f.columns);if(f.head.length===0){var p=n(c,"head");p&&f.head.push(p)}if(f.foot.length===0){var p=n(c,"foot");p&&f.foot.push(p)}var g=s.settings.theme,o=s.styles;return{columns:c,head:d("head",f.head,c,o,g,i),body:d("body",f.body,c,o,g,i),foot:d("foot",f.foot,c,o,g,i)}}function d(s,i,f,c,p,g){var o={},P=i.map(function(k,O){for(var u=0,r={},S=0,h=0,x=0,_=f;x<_.length;x++){var W=_[x];if(o[W.index]==null||o[W.index].left===0)if(h===0){var F=void 0;Array.isArray(k)?F=k[W.index-S-u]:F=k[W.dataKey];var E={};typeof F=="object"&&!Array.isArray(F)&&(E=F?.styles||{});var R=l(s,W,O,p,c,g,E),A=new C.Cell(F,R,s);r[W.dataKey]=A,r[W.index]=A,h=A.colSpan-1,o[W.index]={left:A.rowSpan-1,times:h}}else h--,S++;else o[W.index].left--,h=o[W.index].times,u++}return new C.Row(k,O,s,r)});return P}function n(s,i){var f={};return s.forEach(function(c){if(c.raw!=null){var p=t(i,c.raw);p!=null&&(f[c.dataKey]=p)}}),Object.keys(f).length>0?f:null}function t(s,i){if(s==="head"){if(typeof i=="object")return i.header||i.title||null;if(typeof i=="string"||typeof i=="number")return i}else if(s==="foot"&&typeof i=="object")return i.footer;return null}function e(s){return s.map(function(i,f){var c,p,g;return typeof i=="object"?g=(p=(c=i.dataKey)!==null&&c!==void 0?c:i.key)!==null&&p!==void 0?p:f:g=f,new C.Column(g,i,f)})}function l(s,i,f,c,p,g,o){var P=(0,w.getTheme)(c),k;s==="head"?k=p.headStyles:s==="body"?k=p.bodyStyles:s==="foot"&&(k=p.footStyles);var O=(0,a.assign)({},P.table,P[s],p.styles,k),u=p.columnStyles[i.dataKey]||p.columnStyles[i.index]||{},r=s==="body"?u:{},S=s==="body"&&f%2===0?(0,a.assign)({},P.alternateRow,p.alternateRowStyles):{},h=(0,w.defaultStyles)(g),x=(0,a.assign)({},h,O,S,r);return(0,a.assign)(x,o)}},664:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.addPage=v.drawTable=void 0;var M=H(420),C=H(260),y=H(744),w=H(356),a=H(136),b=H(224);function m(u,r){var S=r.settings,h=S.startY,x=S.margin,_={x:x.left,y:h},W=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),F=h+x.bottom+W;if(S.pageBreak==="avoid"){var E=r.body,R=E.reduce(function(Y,G){return Y+G.height},0);F+=R}var A=new y.DocHandler(u);(S.pageBreak==="always"||S.startY!=null&&F>A.pageSize().height)&&(O(A),_.y=x.top),r.callWillDrawPageHooks(A,_);var U=(0,w.assign)({},_);r.startPageNumber=A.pageNumber(),S.horizontalPageBreak?d(A,r,U,_):(A.applyStyles(A.userStyles),(S.showHead==="firstPage"||S.showHead==="everyPage")&&r.head.forEach(function(Y){return p(A,r,Y,_,r.columns)}),A.applyStyles(A.userStyles),r.body.forEach(function(Y,G){var Z=G===r.body.length-1;c(A,r,Y,Z,U,_,r.columns)}),A.applyStyles(A.userStyles),(S.showFoot==="lastPage"||S.showFoot==="everyPage")&&r.foot.forEach(function(Y){return p(A,r,Y,_,r.columns)})),(0,M.addTableBorder)(A,r,U,_),r.callEndPageHooks(A,_),r.finalY=_.y,u.lastAutoTable=r,u.previousAutoTable=r,u.autoTable&&(u.autoTable.previous=r),A.applyStyles(A.userStyles)}v.drawTable=m;function d(u,r,S,h){var x=(0,b.calculateAllColumnsCanFitInPage)(u,r),_=r.settings;if(_.horizontalPageBreakBehaviour==="afterAllRows")x.forEach(function(R,A){u.applyStyles(u.userStyles),A>0?k(u,r,S,h,R.columns,!0):n(u,r,h,R.columns),t(u,r,S,h,R.columns),l(u,r,h,R.columns)});else for(var W=-1,F=x[0],E=function(){var R=W;if(F){u.applyStyles(u.userStyles);var A=F.columns;W>=0?k(u,r,S,h,A,!0):n(u,r,h,A),R=e(u,r,W+1,h,A),l(u,r,h,A)}var U=R-W;x.slice(1).forEach(function(Y){u.applyStyles(u.userStyles),k(u,r,S,h,Y.columns,!0),e(u,r,W+1,h,Y.columns,U),l(u,r,h,Y.columns)}),W=R};W<r.body.length-1;)E()}function n(u,r,S,h){var x=r.settings;u.applyStyles(u.userStyles),(x.showHead==="firstPage"||x.showHead==="everyPage")&&r.head.forEach(function(_){return p(u,r,_,S,h)})}function t(u,r,S,h,x){u.applyStyles(u.userStyles),r.body.forEach(function(_,W){var F=W===r.body.length-1;c(u,r,_,F,S,h,x)})}function e(u,r,S,h,x,_){u.applyStyles(u.userStyles),_=_??r.body.length;var W=Math.min(S+_,r.body.length),F=-1;return r.body.slice(S,W).forEach(function(E,R){var A=S+R===r.body.length-1,U=P(u,r,A,h);E.canEntireRowFit(U,x)&&(p(u,r,E,h,x),F=S+R)}),F}function l(u,r,S,h){var x=r.settings;u.applyStyles(u.userStyles),(x.showFoot==="lastPage"||x.showFoot==="everyPage")&&r.foot.forEach(function(_){return p(u,r,_,S,h)})}function s(u,r,S){var h=S.getLineHeight(u.styles.fontSize),x=u.padding("vertical"),_=Math.floor((r-x)/h);return Math.max(0,_)}function i(u,r,S,h){var x={};u.spansMultiplePages=!0,u.height=0;for(var _=0,W=0,F=S.columns;W<F.length;W++){var E=F[W],R=u.cells[E.index];if(R){Array.isArray(R.text)||(R.text=[R.text]);var A=new C.Cell(R.raw,R.styles,R.section);A=(0,w.assign)(A,R),A.text=[];var U=s(R,r,h);R.text.length>U&&(A.text=R.text.splice(U,R.text.length));var Y=h.scaleFactor(),G=h.getLineHeightFactor();R.contentHeight=R.getContentHeight(Y,G),R.contentHeight>=r&&(R.contentHeight=r,A.styles.minCellHeight-=r),R.contentHeight>u.height&&(u.height=R.contentHeight),A.contentHeight=A.getContentHeight(Y,G),A.contentHeight>_&&(_=A.contentHeight),x[E.index]=A}}var Z=new C.Row(u.raw,-1,u.section,x,!0);Z.height=_;for(var ot=0,ut=S.columns;ot<ut.length;ot++){var E=ut[ot],A=Z.cells[E.index];A&&(A.height=Z.height);var R=u.cells[E.index];R&&(R.height=u.height)}return Z}function f(u,r,S,h){var x=u.pageSize().height,_=h.settings.margin,W=_.top+_.bottom,F=x-W;r.section==="body"&&(F-=h.getHeadHeight(h.columns)+h.getFootHeight(h.columns));var E=r.getMinimumRowHeight(h.columns,u),R=E<S;if(E>F)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!R)return!1;var A=r.hasRowSpan(h.columns),U=r.getMaxCellHeight(h.columns)>F;return U?(A&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||h.settings.rowPageBreak==="avoid")}function c(u,r,S,h,x,_,W){var F=P(u,r,h,_);if(S.canEntireRowFit(F,W))p(u,r,S,_,W);else if(f(u,S,F,r)){var E=i(S,F,r,u);p(u,r,S,_,W),k(u,r,x,_,W),c(u,r,E,h,x,_,W)}else k(u,r,x,_,W),c(u,r,S,h,x,_,W)}function p(u,r,S,h,x){h.x=r.settings.margin.left;for(var _=0,W=x;_<W.length;_++){var F=W[_],E=S.cells[F.index];if(!E){h.x+=F.width;continue}u.applyStyles(E.styles),E.x=h.x,E.y=h.y;var R=r.callCellHooks(u,r.hooks.willDrawCell,E,S,F,h);if(R===!1){h.x+=F.width;continue}g(u,E,h);var A=E.getTextPos();(0,a.default)(E.text,A.x,A.y,{halign:E.styles.halign,valign:E.styles.valign,maxWidth:Math.ceil(E.width-E.padding("left")-E.padding("right"))},u.getDocument()),r.callCellHooks(u,r.hooks.didDrawCell,E,S,F,h),h.x+=F.width}h.y+=S.height}function g(u,r,S){var h=r.styles;if(u.getDocument().setFillColor(u.getDocument().getFillColor()),typeof h.lineWidth=="number"){var x=(0,M.getFillStyle)(h.lineWidth,h.fillColor);x&&u.rect(r.x,S.y,r.width,r.height,x)}else typeof h.lineWidth=="object"&&(h.fillColor&&u.rect(r.x,S.y,r.width,r.height,"F"),o(u,r,S,h.lineWidth))}function o(u,r,S,h){var x,_,W,F;h.top&&(x=S.x,_=S.y,W=S.x+r.width,F=S.y,h.right&&(W+=.5*h.right),h.left&&(x-=.5*h.left),E(h.top,x,_,W,F)),h.bottom&&(x=S.x,_=S.y+r.height,W=S.x+r.width,F=S.y+r.height,h.right&&(W+=.5*h.right),h.left&&(x-=.5*h.left),E(h.bottom,x,_,W,F)),h.left&&(x=S.x,_=S.y,W=S.x,F=S.y+r.height,h.top&&(_-=.5*h.top),h.bottom&&(F+=.5*h.bottom),E(h.left,x,_,W,F)),h.right&&(x=S.x+r.width,_=S.y,W=S.x+r.width,F=S.y+r.height,h.top&&(_-=.5*h.top),h.bottom&&(F+=.5*h.bottom),E(h.right,x,_,W,F));function E(R,A,U,Y,G){u.getDocument().setLineWidth(R),u.getDocument().line(A,U,Y,G,"S")}}function P(u,r,S,h){var x=r.settings.margin.bottom,_=r.settings.showFoot;return(_==="everyPage"||_==="lastPage"&&S)&&(x+=r.getFootHeight(r.columns)),u.pageSize().height-h.y-x}function k(u,r,S,h,x,_){x===void 0&&(x=[]),_===void 0&&(_=!1),u.applyStyles(u.userStyles),r.settings.showFoot==="everyPage"&&!_&&r.foot.forEach(function(F){return p(u,r,F,h,x)}),r.callEndPageHooks(u,h);var W=r.settings.margin;(0,M.addTableBorder)(u,r,S,h),O(u),r.pageNumber++,r.pageCount++,h.x=W.left,h.y=W.top,S.y=W.top,r.callWillDrawPageHooks(u,h),r.settings.showHead==="everyPage"&&(r.head.forEach(function(F){return p(u,r,F,h,x)}),u.applyStyles(u.userStyles))}v.addPage=k;function O(u){var r=u.pageNumber();u.setPage(r+1);var S=u.pageNumber();return S===r?(u.addPage(),!0):!1}},224:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.calculateAllColumnsCanFitInPage=void 0;var M=H(420);function C(w,a,b){var m;b===void 0&&(b={});var d=(0,M.getPageAvailableWidth)(w,a),n=new Map,t=[],e=[],l=[];a.settings.horizontalPageBreakRepeat,Array.isArray(a.settings.horizontalPageBreakRepeat)?l=a.settings.horizontalPageBreakRepeat:(typeof a.settings.horizontalPageBreakRepeat=="string"||typeof a.settings.horizontalPageBreakRepeat=="number")&&(l=[a.settings.horizontalPageBreakRepeat]),l.forEach(function(c){var p=a.columns.find(function(g){return g.dataKey===c||g.index===c});p&&!n.has(p.index)&&(n.set(p.index,!0),t.push(p.index),e.push(a.columns[p.index]),d-=p.wrappedWidth)});for(var s=!0,i=(m=b?.start)!==null&&m!==void 0?m:0;i<a.columns.length;){if(n.has(i)){i++;continue}var f=a.columns[i].wrappedWidth;if(s||d>=f)s=!1,t.push(i),e.push(a.columns[i]),d-=f;else break;i++}return{colIndexes:t,columns:e,lastIndex:i-1}}function y(w,a){for(var b=[],m=0;m<a.columns.length;m++){var d=C(w,a,{start:m});d.columns.length&&(b.push(d),m=d.lastIndex)}return b}v.calculateAllColumnsCanFitInPage=y},324:function(D,v,H){Object.defineProperty(v,"__esModule",{value:!0}),v.ellipsize=v.resizeColumns=v.calculateWidths=void 0;var M=H(420);function C(t,e){y(t,e);var l=[],s=0;e.columns.forEach(function(f){var c=f.getMaxCustomCellWidth(e);c?f.width=c:(f.width=f.wrappedWidth,l.push(f)),s+=f.width});var i=e.getWidth(t.pageSize().width)-s;i&&(i=w(l,i,function(f){return Math.max(f.minReadableWidth,f.minWidth)})),i&&(i=w(l,i,function(f){return f.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),b(e),m(e,t),a(e)}v.calculateWidths=C;function y(t,e){var l=t.scaleFactor(),s=e.settings.horizontalPageBreak,i=(0,M.getPageAvailableWidth)(t,e);e.allRows().forEach(function(f){for(var c=0,p=e.columns;c<p.length;c++){var g=p[c],o=f.cells[g.index];if(o){var P=e.hooks.didParseCell;e.callCellHooks(t,P,o,f,g,null);var k=o.padding("horizontal");o.contentWidth=(0,M.getStringWidth)(o.text,o.styles,t)+k;var O=(0,M.getStringWidth)(o.text.join(" ").split(/[^\S\u00A0]+/),o.styles,t);if(o.minReadableWidth=O+o.padding("horizontal"),typeof o.styles.cellWidth=="number")o.minWidth=o.styles.cellWidth,o.wrappedWidth=o.styles.cellWidth;else if(o.styles.cellWidth==="wrap"||s===!0)o.contentWidth>i?(o.minWidth=i,o.wrappedWidth=i):(o.minWidth=o.contentWidth,o.wrappedWidth=o.contentWidth);else{var u=10/l;o.minWidth=o.styles.minCellWidth||u,o.wrappedWidth=o.contentWidth,o.minWidth>o.wrappedWidth&&(o.wrappedWidth=o.minWidth)}}}}),e.allRows().forEach(function(f){for(var c=0,p=e.columns;c<p.length;c++){var g=p[c],o=f.cells[g.index];if(o&&o.colSpan===1)g.wrappedWidth=Math.max(g.wrappedWidth,o.wrappedWidth),g.minWidth=Math.max(g.minWidth,o.minWidth),g.minReadableWidth=Math.max(g.minReadableWidth,o.minReadableWidth);else{var P=e.styles.columnStyles[g.dataKey]||e.styles.columnStyles[g.index]||{},k=P.cellWidth||P.minCellWidth;k&&typeof k=="number"&&(g.minWidth=k,g.wrappedWidth=k)}o&&(o.colSpan>1&&!g.minWidth&&(g.minWidth=o.minWidth),o.colSpan>1&&!g.wrappedWidth&&(g.wrappedWidth=o.minWidth))}})}function w(t,e,l){for(var s=e,i=t.reduce(function(u,r){return u+r.wrappedWidth},0),f=0;f<t.length;f++){var c=t[f],p=c.wrappedWidth/i,g=s*p,o=c.width+g,P=l(c),k=o<P?P:o;e-=k-c.width,c.width=k}if(e=Math.round(e*1e10)/1e10,e){var O=t.filter(function(u){return e<0?u.width>l(u):!0});O.length&&(e=w(O,e,l))}return e}v.resizeColumns=w;function a(t){for(var e={},l=1,s=t.allRows(),i=0;i<s.length;i++)for(var f=s[i],c=0,p=t.columns;c<p.length;c++){var g=p[c],o=e[g.index];if(l>1)l--,delete f.cells[g.index];else if(o)o.cell.height+=f.height,l=o.cell.colSpan,delete f.cells[g.index],o.left--,o.left<=1&&delete e[g.index];else{var P=f.cells[g.index];if(!P)continue;if(P.height=f.height,P.rowSpan>1){var k=s.length-i,O=P.rowSpan>k?k:P.rowSpan;e[g.index]={cell:P,left:O,row:f}}}}}function b(t){for(var e=t.allRows(),l=0;l<e.length;l++)for(var s=e[l],i=null,f=0,c=0,p=0;p<t.columns.length;p++){var g=t.columns[p];if(c-=1,c>1&&t.columns[p+1])f+=g.width,delete s.cells[g.index];else if(i){var o=i;delete s.cells[g.index],i=null,o.width=g.width+f}else{var o=s.cells[g.index];if(!o)continue;if(c=o.colSpan,f=0,o.colSpan>1){i=o,f+=g.width;continue}o.width=g.width+f}}}function m(t,e){for(var l={count:0,height:0},s=0,i=t.allRows();s<i.length;s++){for(var f=i[s],c=0,p=t.columns;c<p.length;c++){var g=p[c],o=f.cells[g.index];if(o){e.applyStyles(o.styles,!0);var P=o.width-o.padding("horizontal");if(o.styles.overflow==="linebreak")o.text=e.splitTextToSize(o.text,P+1/e.scaleFactor(),{fontSize:o.styles.fontSize});else if(o.styles.overflow==="ellipsize")o.text=d(o.text,P,o.styles,e,"...");else if(o.styles.overflow==="hidden")o.text=d(o.text,P,o.styles,e,"");else if(typeof o.styles.overflow=="function"){var k=o.styles.overflow(o.text,P);typeof k=="string"?o.text=[k]:o.text=k}o.contentHeight=o.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var O=o.contentHeight/o.rowSpan;o.rowSpan>1&&l.count*l.height<O*o.rowSpan?l={height:O,count:o.rowSpan}:l&&l.count>0&&l.height>O&&(O=l.height),O>f.height&&(f.height=O)}}l.count--}}function d(t,e,l,s,i){return t.map(function(f){return n(f,e,l,s,i)})}v.ellipsize=d;function n(t,e,l,s,i){var f=1e4*s.scaleFactor();if(e=Math.ceil(e*f)/f,e>=(0,M.getStringWidth)(t,l,s))return t;for(;e<(0,M.getStringWidth)(t+i,l,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}},964:function(D){if(typeof I>"u"){var v=new Error("Cannot find module 'undefined'");throw v.code="MODULE_NOT_FOUND",v}D.exports=I}},T={};function B(D){var v=T[D];if(v!==void 0)return v.exports;var H=T[D]={exports:{}};return j[D].call(H.exports,H,H.exports,B),H.exports}var z={};return function(){var D=z;Object.defineProperty(D,"__esModule",{value:!0}),D.Cell=D.Column=D.Row=D.Table=D.CellHookData=D.__drawTable=D.__createTable=D.applyPlugin=void 0;var v=B(340),H=B(776),M=B(664),C=B(972),y=B(260);Object.defineProperty(D,"Table",{enumerable:!0,get:function(){return y.Table}});var w=B(172);Object.defineProperty(D,"CellHookData",{enumerable:!0,get:function(){return w.CellHookData}});var a=B(260);Object.defineProperty(D,"Cell",{enumerable:!0,get:function(){return a.Cell}}),Object.defineProperty(D,"Column",{enumerable:!0,get:function(){return a.Column}}),Object.defineProperty(D,"Row",{enumerable:!0,get:function(){return a.Row}});function b(e){(0,v.default)(e)}D.applyPlugin=b;function m(e,l){var s=(0,H.parseInput)(e,l),i=(0,C.createTable)(e,s);(0,M.drawTable)(e,i)}function d(e,l){var s=(0,H.parseInput)(e,l);return(0,C.createTable)(e,s)}D.__createTable=d;function n(e,l){(0,M.drawTable)(e,l)}D.__drawTable=n;try{var t=B(964);t.jsPDF&&(t=t.jsPDF),b(t)}catch{}D.default=m}(),z}()})});lt();var Bt=It(Ot());var at=class I{constructor(){}exportToPDF(j,T,B,z){let D=new jt;D.text(B,10,10);let v=T;(0,Bt.default)(D,{head:[v],body:j.map(H=>v.map(M=>H[M])),startY:20}),D.save(`${z}.pdf`)}static \u0275fac=function(T){return new(T||I)};static \u0275prov=ht({token:I,factory:I.\u0275fac,providedIn:"root"})};var Ut=()=>({"min-width":"50rem","max-width":"100%"});function Yt(I,j){if(I&1){let T=rt();L(0,"div")(1,"input",11),X("change",function(){let z=et(T).$implicit,D=tt(2);return it(D.toggleSeleccionColumna(z))}),N(),L(2,"label"),$(3),N()()}if(I&2){let T=j.$implicit;K(),q("checked",T.seleccionada),K(2),J(T.titulo)}}function $t(I,j){if(I&1){let T=rt();L(0,"div",8)(1,"h4"),$(2,"Selecciona las columnas a exportar:"),N(),nt(3,Yt,4,2,"div",9),L(4,"button",10),X("click",function(){et(T);let z=tt();return it(z.exportarHistoriaClinica())}),N()()}if(I&2){let T=tt();K(3),q("ngForOf",T.columnasDisponibles)}}function Kt(I,j){I&1&&(L(0,"tr")(1,"th",12),$(2,"ID Consulta"),N(),L(3,"th",13),$(4,"Fecha Consulta"),N(),L(5,"th",14),$(6,"Motivo Consulta"),N(),L(7,"th",13),$(8,"Diagn\xF3stico"),N(),L(9,"th",13),$(10,"Nota"),N(),L(11,"th",15),$(12,"Acciones"),N()())}function Vt(I,j){if(I&1){let T=rt();L(0,"tr")(1,"td"),$(2),N(),L(3,"td"),$(4),N(),L(5,"td"),$(6),N(),L(7,"td"),$(8),N(),L(9,"td"),$(10),N(),L(11,"td")(12,"button",16),X("click",function(){let z=et(T).$implicit,D=tt();return it(D.irATratamiento(z.id))}),N()()()}if(I&2){let T=j.$implicit;K(2),J(T.id),K(2),J(T.fechaConsulta),K(2),J(T.motivoConsulta),K(2),J(T.diagnostico),K(2),J(T.nota)}}var ft=class I{constructor(j,T,B,z,D,v,H,M){this.router=j;this.route=T;this.aseguradoService=B;this.consultaService=z;this.tratamientoService=D;this.bitacoraService=v;this.authService=H;this.pdfExportService=M}asegurado=null;mostrarSeleccionColumnas=!1;columnasDisponibles=[{campo:"id",titulo:"ID Consulta",seleccionada:!0},{campo:"fechaConsulta",titulo:"Fecha Consulta",seleccionada:!0},{campo:"motivoConsulta",titulo:"Motivo Consulta",seleccionada:!0},{campo:"diagnostico",titulo:"Diagn\xF3stico",seleccionada:!0},{campo:"nota",titulo:"Nota",seleccionada:!0}];consultas=[];ngOnInit(){this.route.paramMap.subscribe(j=>{let T=Number(j.get("aseguradoId"));T&&this.obtenerAsegurado(T)})}obtenerAsegurado(j){this.aseguradoService.getAseguradoById(j).subscribe(T=>{this.asegurado=T,T.historiaClinica&&T.historiaClinica.id&&this.obtenerConsultas(T.historiaClinica.id)},T=>{console.error("Error al obtener el asegurado:",T)})}obtenerConsultas(j){this.consultaService.getConsultasPorHistoriaClinicaId(j).subscribe(T=>{this.consultas=T,this.verificarTratamientos()},T=>{console.error("Error al obtener las consultas:",T)})}verificarTratamientos(){this.consultas.forEach(j=>{j.id!==void 0?this.tratamientoService.getTratamientoByConsultaId(j.id).subscribe(T=>{j.tieneTratamiento=!!T},T=>{j.tieneTratamiento=!1}):j.tieneTratamiento=!1})}registrarBitacora(j,T,B){this.bitacoraService.getUserIP().subscribe({next:z=>{let D=new Date,v=`${D.getFullYear()}-${(D.getMonth()+1).toString().padStart(2,"0")}-${D.getDate().toString().padStart(2,"0")}`,H=`${D.getHours().toString().padStart(2,"0")}:${D.getMinutes().toString().padStart(2,"0")}:${D.getSeconds().toString().padStart(2,"0")}`,M={correo:this.authService.getAuthenticatedUserEmail()||"",fecha:v,hora:H,ip:z.ip,accion:j,detalle:T};this.bitacoraService.createBitacora(M).subscribe({next:()=>{console.log("Registro de bit\xE1cora exitoso"),B()},error:C=>{console.error("Error al registrar en bit\xE1cora",C),B()}})},error:z=>{console.error("Error al obtener IP",z),B()}})}irATratamiento(j){if(this.asegurado){let T=`${this.asegurado.usuario.nombre} ${this.asegurado.usuario.apellido}`,B=`Listar tratamiento de la consulta (${j}) del paciente (${T})`;this.registrarBitacora("Listar tratamiento",B,()=>{this.router.navigate(["/tratamiento",j])})}else console.error("El asegurado no est\xE1 disponible."),this.router.navigate(["/tratamiento",j])}toggleSeleccionColumna(j){j.seleccionada=!j.seleccionada}exportarHistoriaClinica(){console.log("Datos originales de las consultas:",this.consultas);let j=this.columnasDisponibles.filter(z=>z.seleccionada).map(z=>z.campo);console.log("Columnas seleccionadas:",j);let T=this.consultas.map(z=>{let D={};return j.forEach(v=>{if(z.hasOwnProperty(v))D[v]=z[v];else{let H=this.obtenerValorAnidado(z,v);D[v]=H!==void 0?H:""}}),D});console.log("Datos filtrados para exportaci\xF3n:",T);let B=this.columnasDisponibles.filter(z=>z.seleccionada).map(z=>z.titulo);T.length>0?this.pdfExportService.exportToPDF(T,B,"Historia Cl\xEDnica","historia_clinica"):console.error("No hay datos para exportar.")}obtenerValorAnidado(j,T){try{return T.split(".").reduce((B,z)=>B[z],j)}catch(B){console.error(`Error al acceder a la ruta "${T}" en el objeto:`,j,B);return}}static \u0275fac=function(T){return new(T||I)(V(St),V(bt),V(At),V(Mt),V(Rt),V(wt),V(Ct),V(at))};static \u0275cmp=gt({type:I,selectors:[["app-historia-clinica"]],standalone:!0,features:[ct],decls:10,vars:4,consts:[[1,"column-selector-container"],["pButton","","type","button","label","Seleccionar Columnas","icon","pi pi-cog",3,"click"],["class","column-selector",4,"ngIf"],[1,"historia-clinica-container"],["pButton","","type","button","label","Exportar PDF","icon","pi pi-file-pdf",3,"click"],["dataKey","id",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"column-selector"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Exportar Seleccionadas","icon","pi pi-file-pdf",3,"click"],["type","checkbox",3,"change","checked"],[2,"width","15%"],[2,"width","20%"],[2,"width","25%"],[2,"width","10%"],["pButton","","type","button","icon","pi pi-arrow-right",1,"p-button-rounded","p-button-text","p-button-info",3,"click"]],template:function(T,B){T&1&&(L(0,"div",0)(1,"button",1),X("click",function(){return B.mostrarSeleccionColumnas=!B.mostrarSeleccionColumnas}),N()(),nt(2,$t,5,1,"div",2),L(3,"div",3)(4,"h3"),$(5,"Historia Cl\xEDnica de Usuario"),N(),L(6,"button",4),X("click",function(){return B.exportarHistoriaClinica()}),N(),L(7,"p-table",5),nt(8,Kt,13,0,"ng-template",6)(9,Vt,13,5,"ng-template",7),N()()),T&2&&(K(2),q("ngIf",B.mostrarSeleccionColumnas),K(5),q("value",B.consultas)("tableStyle",pt(3,Ut)))},dependencies:[yt,vt,mt,Ft,kt,Ht,Pt,Tt,xt,_t,Wt,Dt],styles:[".historia-clinica-container[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:1.5rem;background-color:#f9f9f9;border-radius:12px;box-shadow:0 4px 8px #0000001a}.historia-clinica-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#3f51b5;text-align:center;margin-bottom:1.5rem;border-bottom:2px solid #ddd;padding-bottom:.5rem}.p-table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;font-size:.95rem;box-shadow:0 4px 8px #0000001a}.p-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:12px;text-align:center;font-weight:700}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0f7fa}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:center;vertical-align:middle}.p-button-info[_ngcontent-%COMP%]{background-color:#3f51b5!important;color:#fff!important;width:2.5rem;height:2.5rem;border-radius:50%;transition:background-color .3s ease}.p-button-info[_ngcontent-%COMP%]:hover{background-color:#2c3e9e!important}"]})};export{ft as default};
